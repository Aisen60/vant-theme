import{e,l as t,a}from"./use-translate.b583725c.js";import{c as s,w as l}from"./with-install.62f47d2f.js";import{C as o}from"./index.550f913c.js";import{F as n}from"./index.ba9111d7.js";import{F as i}from"./index.3e32f020.js";import{B as r}from"./index.627ee112.js";import{D as d}from"./function-call.533d4529.js";import{S as m}from"./index.3ef909c5.js";import{A as c,G as u,y as p,e as f,E as b,r as j,o as x,c as g,w as h,C as v}from"./vendor.ef334a89.js";import{T as D}from"./function-call.b2678465.js";import"./use-route.3fda2186.js";import"./index.3af24151.js";import"./unit.49c29796.js";import"./constant.4d85ecb9.js";import"./use-expose.33de0944.js";import"./useChildren.a94b5b99.js";import"./event.7d40caae.js";import"./number.b01aa591.js";import"./index.49199c0d.js";import"./useParent.0a2f50cb.js";import"./index.6fa13143.js";import"./mount-component.4a14b4e1.js";import"./interceptor.ab1192d4.js";import"./index.aa2914ba.js";import"./use-touch.ce80657e.js";import"./index.7e292110.js";import"./utils.b0356070.js";import"./index.253cf6b3.js";import"./use-lazy-render.49349a00.js";import"./on-popup-reopen.522dc00c.js";import"./index.0acb7aaf.js";import"./index.1c8d237b.js";const[S,y,V]=s("contact-edit"),w={tel:"",name:""};const C=l(c({name:S,props:{isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>e({},w)},telValidator:{type:Function,default:t}},emits:["save","delete","change-default"],setup(t,{emit:a}){const s=u(e({},w,t.contactInfo)),l=()=>{t.isSaving||a("save",s)},c=()=>d.confirm({title:V("confirmDelete")}).then((()=>a("delete",s))),b=()=>f(m,{modelValue:s.isDefault,"onUpdate:modelValue":e=>s.isDefault=e,size:24,onChange:e=>a("change-default",e)},null),j=()=>{if(t.showSetDefault)return f(o,{title:t.setDefaultLabel,class:y("switch-cell"),border:!1},{"right-icon":b})};return p((()=>t.contactInfo),(t=>e(s,w,t))),()=>f(n,{class:y(),onSubmit:l},{default:()=>[f("div",{class:y("fields")},[f(i,{modelValue:s.name,"onUpdate:modelValue":e=>s.name=e,clearable:!0,label:V("name"),rules:[{required:!0,message:V("nameEmpty")}],maxlength:"30",placeholder:V("name")},null),f(i,{modelValue:s.tel,"onUpdate:modelValue":e=>s.tel=e,clearable:!0,type:"tel",label:V("tel"),rules:[{validator:t.telValidator,message:V("telInvalid")}],placeholder:V("tel")},null)]),j(),f("div",{class:y("buttons")},[f(r,{block:!0,round:!0,type:"danger",text:V("save"),class:y("button"),loading:t.isSaving,nativeType:"submit"},null),t.isEdit&&f(r,{block:!0,round:!0,text:V("delete"),class:y("button"),loading:t.isDeleting,onClick:c},null)])]})}}));const B=c({setup(e){const t=a({"zh-CN":{defaultLabel:"设为默认联系人"},"en-US":{defaultLabel:"Set as the default contact"}}),s=b({}),l=()=>D(t("save")),o=()=>D(t("delete"));return(e,a)=>{const n=j("demo-block");return x(),g(n,{title:v(t)("basicUsage")},{default:h((()=>[f(v(C),{"is-edit":"","show-set-default":"","contact-info":s.value,"set-default-label":v(t)("defaultLabel"),onSave:l,onDelete:o},null,8,["contact-info","set-default-label"])])),_:1},8,["title"])}}});export{B as default};
