import{c as e,a as t}from"./use-translate.91889477.js";import{w as l}from"./with-install.c9eedd0e.js";import{e as a}from"./constant.4d85ecb9.js";import{z as s,C as o,x as i,e as u,D as n,r as m,o as r,a as p,w as x,B as d,h as c,t as v,F as f}from"./vue-libs.71fdcafc.js";import{I as g}from"./index.d38d9435.js";const[V,h,T]=e("pagination"),b=(e,t,l)=>({number:e,text:t,active:l});const S=l(s({name:V,props:{prevText:String,nextText:String,forceEllipses:Boolean,mode:{type:String,default:"multi"},modelValue:{type:Number,default:0},pageCount:{type:[Number,String],default:0},totalItems:{type:[Number,String],default:0},itemsPerPage:{type:[Number,String],default:10},showPageSize:{type:[Number,String],default:5}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:l}){const s=o((()=>{const{pageCount:t,totalItems:l,itemsPerPage:a}=e,s=+t||Math.ceil(+l/+a);return Math.max(1,s)})),n=o((()=>{const t=[],l=s.value,a=+e.showPageSize,{modelValue:o,forceEllipses:i}=e;if("multi"!==e.mode)return t;let u=1,n=l;const m=a<l;m&&(u=Math.max(o-Math.floor(a/2),1),n=u+a-1,n>l&&(n=l,u=n-a+1));for(let e=u;e<=n;e++){const l=b(e,e,e===o);t.push(l)}if(m&&a>0&&i){if(u>1){const e=b(u-1,"...");t.unshift(e)}if(n<l){const e=b(n+1,"...");t.push(e)}}return t})),m=(l,a)=>{l=Math.min(s.value,Math.max(1,l)),e.modelValue!==l&&(t("update:modelValue",l),a&&t("change",l))};i((()=>e.modelValue),(e=>{m(e)}),{immediate:!0});const r=()=>{if("multi"!==e.mode)return u("li",{class:h("page-desc")},[l.pageDesc?l.pageDesc():`${e.modelValue}/${s.value}`])};return()=>{const t=e.modelValue,o="multi"!==e.mode,i=e=>()=>m(e,!0);return u("ul",{class:h({simple:o})},[u("li",{class:[h("item",{disabled:1===t}),h("prev"),a],onClick:i(t-1)},[l["prev-text"]?l["prev-text"]():e.prevText||T("prev")]),n.value.map((e=>u("li",{class:[h("item",{active:e.active}),h("page"),a],onClick:i(e.number)},[l.page?l.page(e):e.text]))),r(),u("li",{class:[h("item",{disabled:t===s.value}),h("next"),a],onClick:i(t+1)},[l["next-text"]?l["next-text"]():e.nextText||T("next")])])}}}));const w=s({setup(e){const l=t({"zh-CN":{title2:"简单模式",title3:"显示省略号",title4:"自定义按钮",prevText:"上一页",nextText:"下一页"},"en-US":{title2:"Simple Mode",title3:"Show ellipses",title4:"Custom Button",prevText:"Prev",nextText:"Next"}}),a=n(1),s=n(1),o=n(1),i=n(1);return(e,t)=>{const n=m("demo-block");return r(),p(f,null,[u(n,{title:d(l)("basicUsage")},{default:x((()=>[u(d(S),{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),"total-items":24,"items-per-page":5,"prev-text":d(l)("prevText"),"next-text":d(l)("nextText")},null,8,["modelValue","prev-text","next-text"])])),_:1},8,["title"]),u(n,{title:d(l)("title2")},{default:x((()=>[u(d(S),{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),"page-count":12,"prev-text":d(l)("prevText"),"next-text":d(l)("nextText"),mode:"simple",size:"small"},null,8,["modelValue","prev-text","next-text"])])),_:1},8,["title"]),u(n,{title:d(l)("title3")},{default:x((()=>[u(d(S),{modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value=e),"force-ellipses":"","total-items":125,"show-page-size":3,"prev-text":d(l)("prevText"),"next-text":d(l)("nextText")},null,8,["modelValue","prev-text","next-text"])])),_:1},8,["title"]),u(n,{title:d(l)("title4")},{default:x((()=>[u(d(S),{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),"total-items":125,"show-page-size":5},{"prev-text":x((()=>[u(d(g),{name:"arrow-left"})])),"next-text":x((()=>[u(d(g),{name:"arrow"})])),page:x((({text:e})=>[c(v(e),1)])),_:1},8,["modelValue"])])),_:1},8,["title"])],64)}}});export{w as default};
