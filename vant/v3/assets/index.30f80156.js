import{a as e}from"./use-translate.b583725c.js";import{c as t,w as l}from"./with-install.62f47d2f.js";import{e as a}from"./constant.4d85ecb9.js";import{A as s,D as o,y as i,e as n,E as u,r,o as m,a as p,w as x,C as d,i as c,t as v,F as f}from"./vendor.ef334a89.js";import{I as g}from"./index.3af24151.js";import"./unit.49c29796.js";const[V,h,T]=t("pagination");function b(e,t,l){return{number:e,text:t,active:l}}const S=l(s({name:V,props:{prevText:String,nextText:String,forceEllipses:Boolean,mode:{type:String,default:"multi"},modelValue:{type:Number,default:0},pageCount:{type:[Number,String],default:0},totalItems:{type:[Number,String],default:0},itemsPerPage:{type:[Number,String],default:10},showPageSize:{type:[Number,String],default:5}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:l}){const s=o((()=>{const{pageCount:t,totalItems:l,itemsPerPage:a}=e,s=+t||Math.ceil(+l/+a);return Math.max(1,s)})),u=o((()=>{const t=[],l=s.value,a=+e.showPageSize,{modelValue:o,forceEllipses:i}=e;if("multi"!==e.mode)return t;let n=1,u=l;const r=a<l;r&&(n=Math.max(o-Math.floor(a/2),1),u=n+a-1,u>l&&(u=l,n=u-a+1));for(let e=n;e<=u;e++){const l=b(e,e,e===o);t.push(l)}if(r&&a>0&&i){if(n>1){const e=b(n-1,"...");t.unshift(e)}if(u<l){const e=b(u+1,"...");t.push(e)}}return t})),r=(l,a)=>{l=Math.min(s.value,Math.max(1,l)),e.modelValue!==l&&(t("update:modelValue",l),a&&t("change",l))};i((()=>e.modelValue),(e=>{r(e)}),{immediate:!0});const m=()=>{if("multi"!==e.mode)return n("li",{class:h("page-desc")},[l.pageDesc?l.pageDesc():`${e.modelValue}/${s.value}`])};return()=>{const t=e.modelValue,o="multi"!==e.mode,i=e=>()=>r(e,!0);return n("ul",{class:h({simple:o})},[n("li",{class:[h("item",{disabled:1===t}),h("prev"),a],onClick:i(t-1)},[l["prev-text"]?l["prev-text"]():e.prevText||T("prev")]),u.value.map((e=>n("li",{class:[h("item",{active:e.active}),h("page"),a],onClick:i(e.number)},[l.page?l.page(e):e.text]))),m(),n("li",{class:[h("item",{disabled:t===s.value}),h("next"),a],onClick:i(t+1)},[l["next-text"]?l["next-text"]():e.nextText||T("next")])])}}}));const w=s({setup(t){const l=e({"zh-CN":{title2:"简单模式",title3:"显示省略号",title4:"自定义按钮",prevText:"上一页",nextText:"下一页"},"en-US":{title2:"Simple Mode",title3:"Show ellipses",title4:"Custom Button",prevText:"Prev",nextText:"Next"}}),a=u(1),s=u(1),o=u(1),i=u(1);return(e,t)=>{const u=r("demo-block");return m(),p(f,null,[n(u,{title:d(l)("basicUsage")},{default:x((()=>[n(d(S),{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),"total-items":24,"items-per-page":5,"prev-text":d(l)("prevText"),"next-text":d(l)("nextText")},null,8,["modelValue","prev-text","next-text"])])),_:1},8,["title"]),n(u,{title:d(l)("title2")},{default:x((()=>[n(d(S),{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),"page-count":12,"prev-text":d(l)("prevText"),"next-text":d(l)("nextText"),mode:"simple",size:"small"},null,8,["modelValue","prev-text","next-text"])])),_:1},8,["title"]),n(u,{title:d(l)("title3")},{default:x((()=>[n(d(S),{modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value=e),"force-ellipses":"","total-items":125,"show-page-size":3,"prev-text":d(l)("prevText"),"next-text":d(l)("nextText")},null,8,["modelValue","prev-text","next-text"])])),_:1},8,["title"]),n(u,{title:d(l)("title4")},{default:x((()=>[n(d(S),{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),"total-items":125,"show-page-size":5},{"prev-text":x((()=>[n(d(g),{name:"arrow-left"})])),"next-text":x((()=>[n(d(g),{name:"arrow"})])),page:x((({text:e})=>[c(v(e),1)])),_:1},8,["modelValue"])])),_:1},8,["title"])],64)}}});export{w as default};
