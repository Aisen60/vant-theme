import{c as e,t,e as l,o as a,a as o}from"./use-translate.91889477.js";import{w as i}from"./with-install.c9eedd0e.js";import{d as s}from"./constant.4d85ecb9.js";import{z as d,e as u,D as r,C as n,x as c,I as m,q as f,k as v,v as p,r as b,o as x,a as _,w as g,B as V,h,t as j,F as y}from"./vue-libs.71fdcafc.js";import{u as k}from"./useChildren.edf9a3d1.js";import{c as C,C as S}from"./index.5d323f2c.js";import{u as U}from"./use-expose.5ea79906.js";import{u as w}from"./use-lazy-render.3dcfda58.js";import{u as B}from"./useParent.e4fd6deb.js";import{d as z,r as N}from"./utils.b0356070.js";import{I as q}from"./index.d38d9435.js";import"./use-route.913efdd2.js";const[A,E]=e("collapse"),I=Symbol(A);const L=i(d({name:A,props:{border:t,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:l}){const{linkChildren:a}=k(I),o=e=>{t("change",e),t("update:modelValue",e)};return a({toggle:(t,l)=>{const{accordion:a,modelValue:i}=e;o(a?t===i?"":t:l?i.concat(t):i.filter((e=>e!==t)))},isExpanded:t=>{const{accordion:l,modelValue:a}=e;return l?a===t:a.includes(t)}}),()=>{var t;return u("div",{class:[E(),{[s]:e.border}]},[null==(t=l.default)?void 0:t.call(l)])}}})),[D,F]=e("collapse-item"),H=["icon","title","value","label","right-icon"];const O=i(d({name:D,props:l({},C,{name:[Number,String],isLink:t,disabled:Boolean,readonly:Boolean}),setup(e,{slots:t}){const l=r(),o=r(),{parent:i,index:s}=B(I);if(!i)return;const d=n((()=>{var t;return null!=(t=e.name)?t:s.value})),b=n((()=>i.isExpanded(d.value))),x=r(b.value),_=w(x),g=()=>{b.value?l.value&&(l.value.style.height=""):x.value=!1};c(b,((e,t)=>{if(null===t)return;e&&(x.value=!0);(e?f:N)((()=>{if(!o.value||!l.value)return;const{offsetHeight:t}=o.value;if(t){const a=`${t}px`;l.value.style.height=e?"0":a,z((()=>{l.value&&(l.value.style.height=e?a:"0")}))}else g()}))}));const V=(e=!b.value)=>{i.toggle(d.value,e)},h=()=>{e.disabled||e.readonly||V()},j=()=>{const{border:l,disabled:o,readonly:i}=e,s=a(e,Object.keys(C));return i&&(s.isLink=!1),(o||i)&&(s.clickable=!1),u(S,m({role:"button",class:F("title",{disabled:o,expanded:b.value,borderless:!l}),"aria-expanded":String(b.value),onClick:h},s),a(t,H))},y=_((()=>{var e;return v(u("div",{ref:l,class:F("wrapper"),onTransitionend:g},[u("div",{ref:o,class:F("content")},[null==(e=t.default)?void 0:e.call(t)])]),[[p,x.value]])}));return U({toggle:V}),()=>u("div",{class:[F({border:s.value&&e.border})]},[j(),y()])}}));const P=d({setup(e){const t=o({"zh-CN":{accordion:"手风琴",titleSlot:"自定义标题内容",text:"代码是写出来给人看的，附带能在机器上运行"},"en-US":{accordion:"Accordion",titleSlot:"Custom title",text:"Content"}}),l=r([0]),a=r(0),i=r([]),s=r([]);return(e,o)=>{const d=b("demo-block");return x(),_(y,null,[u(d,{title:V(t)("basicUsage")},{default:g((()=>[u(V(L),{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=e=>l.value=e)},{default:g((()=>[u(V(O),{title:V(t)("title")+1},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),u(V(O),{title:V(t)("title")+2},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),u(V(O),{title:V(t)("title")+3},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),u(d,{title:V(t)("accordion")},{default:g((()=>[u(V(L),{modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=e=>a.value=e),accordion:""},{default:g((()=>[u(V(O),{title:V(t)("title")+1},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),u(V(O),{title:V(t)("title")+2},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),u(V(O),{title:V(t)("title")+3},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),u(d,{title:V(t)("disabled")},{default:g((()=>[u(V(L),{modelValue:i.value,"onUpdate:modelValue":o[2]||(o[2]=e=>i.value=e)},{default:g((()=>[u(V(O),{title:V(t)("title")+1},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),u(V(O),{title:V(t)("title")+2,disabled:""},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),u(V(O),{title:V(t)("title")+3,disabled:""},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),u(d,{title:V(t)("titleSlot")},{default:g((()=>[u(V(L),{modelValue:s.value,"onUpdate:modelValue":o[3]||(o[3]=e=>s.value=e)},{default:g((()=>[u(V(O),null,{title:g((()=>[h(j(V(t)("title")+1),1),u(V(q),{name:"question-o"})])),default:g((()=>[h(" "+j(V(t)("text")),1)])),_:1}),u(V(O),{title:V(t)("title")+2,value:V(t)("content"),icon:"shop-o"},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title","value"])])),_:1},8,["modelValue"])])),_:1},8,["title"])],64)}}});export{P as default};
