import{c as e,t,m as a,e as o,d as l,a as n}from"./use-translate.91889477.js";import{w as i}from"./with-install.c9eedd0e.js";import{d as s}from"./constant.4d85ecb9.js";import{c as r}from"./interceptor.fd551ac3.js";import{u}from"./use-placeholder.eec6211d.js";import{z as d,D as c,e as m,J as f,C as p,A as b,r as v,o as h,a as g,w as _,B as j,h as V,t as x,d as C,F as y}from"./vue-libs.71fdcafc.js";import{u as B}from"./useChildren.edf9a3d1.js";import{r as S,u as I}from"./use-route.913efdd2.js";import{B as N,I as U}from"./index.d38d9435.js";import{u as $}from"./useParent.e4fd6deb.js";import{T as w}from"./function-call.470433b8.js";import"./use-height.ab6478a0.js";import"./index.43faf238.js";import"./mount-component.d3f8f39a.js";import"./use-expose.5ea79906.js";import"./index.b58615a3.js";import"./use-touch.30351383.js";import"./index.94f7437a.js";import"./utils.b0356070.js";import"./index.9e2e36ca.js";import"./use-lazy-render.3dcfda58.js";import"./on-popup-reopen.d7054786.js";import"./index.38991bce.js";import"./index.6e9dbec3.js";const[z,k]=e("tabbar"),A={route:Boolean,fixed:t,border:t,zIndex:[Number,String],placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:{type:[Number,String],default:0},safeAreaInsetBottom:{type:Boolean,default:null}},E=Symbol(z);const P=i(d({name:z,props:A,emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const l=c(),{linkChildren:n}=B(E),i=u(l,k),d=()=>{var t;return null!=(t=e.safeAreaInsetBottom)?t:e.fixed},f=()=>{var t;const{fixed:n,zIndex:i,border:r}=e;return m("div",{ref:l,style:a(i),class:[k({fixed:n}),{[s]:r,"van-safe-area-bottom":d()}]},[null==(t=o.default)?void 0:t.call(o)])};return n({props:e,setActive:a=>{a!==e.modelValue&&r({interceptor:e.beforeChange,args:[a],done(){t("update:modelValue",a),t("change",a)}})}}),()=>e.fixed&&e.placeholder?i(f):f()}}));const[F,O]=e("tabbar-item");const D=i(d({name:F,props:o({},S,{dot:Boolean,icon:String,name:[Number,String],badge:[Number,String],iconPrefix:String}),emits:["click"],setup(e,{emit:t,slots:a}){const o=I(),n=f().proxy,{parent:i,index:s}=$(E);if(!i)return;const r=p((()=>{const{route:t,modelValue:a}=i.props;if(t&&"$route"in n){const{$route:t}=n,{to:a}=e,o=l(a)?a:{path:a},i="path"in o&&o.path===t.path,s="name"in o&&o.name===t.name;return i||s}return(e.name||s.value)===a})),u=a=>{var l;i.setActive(null!=(l=e.name)?l:s.value),t("click",a),o()};return()=>{var t;let o;const{dot:l,badge:n}=e,{activeColor:s,inactiveColor:d}=i.props,c=r.value?s:d;return m("div",{class:O({active:r.value}),style:{color:c},onClick:u},[m(N,{dot:l,content:n,class:O("icon")},(f=o=a.icon?a.icon({active:r.value}):e.icon?m(U,{name:e.icon,classPrefix:e.iconPrefix},null):void 0,"function"==typeof f||"[object Object]"===Object.prototype.toString.call(f)&&!b(f)?o:{default:()=>[o]})),m("div",{class:O("text")},[null==(t=a.default)?void 0:t.call(a,{active:r.value})])]);var f}}}));const J=["src"],M=d({setup(e){const t=n({"zh-CN":{badge:"徽标提示",customIcon:"自定义图标",customColor:"自定义颜色",matchByName:"通过名称匹配",switchEvent:"监听切换事件"},"en-US":{badge:"Show Badge",customIcon:"Custom Icon",customColor:"Custom Color",matchByName:"Match by name",switchEvent:"Change Event"}}),a=c(0),o=c(0),l=c(0),i=c(0),s=c(0),r=c("home"),u="https://img.yzcdn.cn/vant/user-active.png",d="https://img.yzcdn.cn/vant/user-inactive.png",f=e=>{w(`${t("tab")} ${e+1}`)};return(e,n)=>{const c=v("demo-block");return h(),g(y,null,[m(c,{title:j(t)("basicUsage")},{default:_((()=>[m(j(P),{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e)},{default:_((()=>[m(j(D),{icon:"home-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"search"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"friends-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"setting-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(c,{title:j(t)("matchByName")},{default:_((()=>[m(j(P),{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=e=>r.value=e)},{default:_((()=>[m(j(D),{name:"home",icon:"home-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{name:"search",icon:"search"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{name:"friends",icon:"friends-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{name:"setting",icon:"setting-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(c,{title:j(t)("badge")},{default:_((()=>[m(j(P),{modelValue:o.value,"onUpdate:modelValue":n[2]||(n[2]=e=>o.value=e)},{default:_((()=>[m(j(D),{icon:"home-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"search",dot:""},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"friends-o",badge:"5"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"setting-o",badge:"20"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(c,{title:j(t)("customIcon")},{default:_((()=>[m(j(P),{modelValue:l.value,"onUpdate:modelValue":n[3]||(n[3]=e=>l.value=e)},{default:_((()=>[m(j(D),{badge:"3"},{icon:_((e=>[C("img",{src:e.active?u:d},null,8,J)])),default:_((()=>[C("span",null,x(j(t)("custom")),1)])),_:1}),m(j(D),{icon:"search"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"setting-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(c,{title:j(t)("customColor")},{default:_((()=>[m(j(P),{modelValue:i.value,"onUpdate:modelValue":n[4]||(n[4]=e=>i.value=e),"active-color":"#ee0a24","inactive-color":"#000"},{default:_((()=>[m(j(D),{icon:"home-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"search"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"friends-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"setting-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(c,{title:j(t)("switchEvent")},{default:_((()=>[m(j(P),{modelValue:s.value,"onUpdate:modelValue":n[5]||(n[5]=e=>s.value=e),onChange:f},{default:_((()=>[m(j(D),{icon:"home-o"},{default:_((()=>[V(x(`${j(t)("tab")} 1`),1)])),_:1}),m(j(D),{icon:"search"},{default:_((()=>[V(x(`${j(t)("tab")} 2`),1)])),_:1}),m(j(D),{icon:"friends-o"},{default:_((()=>[V(x(`${j(t)("tab")} 3`),1)])),_:1}),m(j(D),{icon:"setting-o"},{default:_((()=>[V(x(`${j(t)("tab")} 4`),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"])],64)}}});export{M as default};
