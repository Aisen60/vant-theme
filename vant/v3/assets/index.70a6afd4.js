import{F as e}from"./index.3e32f020.js";import{P as t}from"./index.aa2914ba.js";import{t as l,e as a,a as o}from"./use-translate.b583725c.js";import{c as s,w as n}from"./with-install.62f47d2f.js";import{T as i,a as u}from"./index.49dfe0ad.js";import{I as r}from"./index.3af24151.js";import{A as c,G as d,y as p,e as m,B as h,s as v,D as x,r as b,o as f,a as w,w as j,C as g,F as V}from"./vendor.ef334a89.js";import{d as y}from"./deep-clone.ba190482.js";import"./constant.4d85ecb9.js";import"./event.7d40caae.js";import"./unit.49c29796.js";import"./number.b01aa591.js";import"./index.550f913c.js";import"./use-route.3fda2186.js";import"./use-expose.33de0944.js";import"./index.49199c0d.js";import"./useParent.0a2f50cb.js";import"./interceptor.ab1192d4.js";import"./use-touch.ce80657e.js";import"./index.7e292110.js";import"./utils.b0356070.js";import"./index.253cf6b3.js";import"./use-lazy-render.49349a00.js";import"./on-popup-reopen.522dc00c.js";import"./index.0acb7aaf.js";import"./index.c15090cc.js";import"./style.21d4b335.js";import"./useChildren.a94b5b99.js";import"./use-refs.7144ba67.js";import"./index.a7e6e774.js";import"./index.90a1ecc4.js";function C(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!h(e)}const[O,A,U]=s("cascader");const k=n(c({name:O,props:{title:String,closeable:l,swipeable:l,modelValue:[Number,String],fieldNames:Object,placeholder:String,activeColor:String,options:{type:Array,default:()=>[]},closeIcon:{type:String,default:"cross"}},emits:["close","change","finish","update:modelValue","click-tab"],setup(e,{slots:t,emit:l}){const o=d({tabs:[],activeTab:0}),{text:s,value:n,children:c}=a({text:"text",value:"value",children:"children"},e.fieldNames),h=(e,t)=>{for(let l=0;l<e.length;l++){const a=e[l];if(a[n]===t)return[a];if(a[c]){const e=h(a[c],t);if(e)return[a,...e]}}},x=()=>{if(e.modelValue||0===e.modelValue){const t=h(e.options,e.modelValue);if(t){let l=e.options;return o.tabs=t.map((e=>{const t={options:l,selectedOption:e},a=l.find((t=>t[n]===e[n]));return a&&(l=a[c]),t})),l&&o.tabs.push({options:l,selectedOption:null}),void v((()=>{o.activeTab=o.tabs.length-1}))}}o.tabs=[{options:e.options,selectedOption:null}]},b=()=>l("close"),f=({name:e,title:t})=>l("click-tab",e,t),w=(a,i,u)=>{const d=i&&a[n]===i[n],p=a.color||(d?e.activeColor:void 0),h=t.option?t.option({option:a,selected:d}):m("span",null,[a[s]]);return m("li",{class:[A("option",{selected:d,disabled:a.disabled}),a.className],style:{color:p},onClick:()=>((e,t)=>{if(e.disabled)return;if(o.tabs[t].selectedOption=e,o.tabs.length>t+1&&(o.tabs=o.tabs.slice(0,t+1)),e[c]){const l={options:e[c],selectedOption:null};o.tabs[t+1]?o.tabs[t+1]=l:o.tabs.push(l),v((()=>{o.activeTab++}))}const a=o.tabs.map((e=>e.selectedOption)).filter(Boolean),s={value:e[n],tabIndex:t,selectedOptions:a};l("update:modelValue",e[n]),l("change",s),e[c]||l("finish",s)})(a,u)},[h,d?m(r,{name:"success",class:A("selected-icon")},null):null])},j=(t,l)=>{let a;const{options:o,selectedOption:n}=t,i=n?n[s]:e.placeholder||U("select");return m(u,{title:i,titleClass:A("tab",{unselected:!n})},C(a=((e,t,l)=>m("ul",{class:A("options")},[e.map((e=>w(e,t,l)))]))(o,n,l))?a:{default:()=>[a]})},g=()=>{let t;return m(i,{active:o.activeTab,"onUpdate:active":e=>o.activeTab=e,animated:!0,class:A("tabs"),color:e.activeColor,swipeThreshold:0,swipeable:e.swipeable,"onClick-tab":f},C(t=o.tabs.map(j))?t:{default:()=>[t]})};return x(),p((()=>e.options),x,{deep:!0}),p((()=>e.modelValue),(e=>{if(e||0===e){if(o.tabs.map((e=>{var t;return null==(t=e.selectedOption)?void 0:t[n]})).includes(e))return}x()})),()=>m("div",{class:A()},[m("div",{class:A("header")},[m("h2",{class:A("title")},[t.title?t.title():e.title]),e.closeable?m(r,{name:e.closeIcon,class:A("close-icon"),onClick:b},null):null]),g()])}}));var N=[{text:"浙江省",value:"330000",children:[{text:"杭州市",value:"330100",children:[{text:"上城区",value:"330102"},{text:"下城区",value:"330103"},{text:"江干区",value:"330104"}]},{text:"宁波市",value:"330200",children:[{text:"海曙区",value:"330203"},{text:"江北区",value:"330205"},{text:"北仑区",value:"330206"}]},{text:"温州市",value:"330300",children:[{text:"鹿城区",value:"330302"},{text:"龙湾区",value:"330303"},{text:"瓯海区",value:"330304"}]}]},{text:"江苏省",value:"320000",children:[{text:"南京市",value:"320100",children:[{text:"玄武区",value:"320102"},{text:"秦淮区",value:"320104"},{text:"建邺区",value:"320105"}]},{text:"无锡市",value:"320200",children:[{text:"锡山区",value:"320205"},{text:"惠山区",value:"320206"},{text:"滨湖区",value:"320211"}]},{text:"徐州市",value:"320300",children:[{text:"鼓楼区",value:"320302"},{text:"云龙区",value:"320303"},{text:"贾汪区",value:"320305"}]}]}],F=[{text:"Zhejiang",value:"330000",children:[{text:"Hangzhou",value:"330100",children:[{text:"Shangcheng",value:"330102"},{text:"Xiacheng",value:"330103"},{text:"Jianggan",value:"330104"}]},{text:"Ningbo",value:"330200",children:[{text:"Haishu",value:"330203"},{text:"Jiangbei",value:"330205"},{text:"Beilun",value:"330206"}]},{text:"Wenzhou",value:"330300",children:[{text:"Lucheng",value:"330302"},{text:"Longwan",value:"330303"},{text:"Ouhai",value:"330304"}]}]},{text:"Jiangsu",value:"320000",children:[{text:"Nanjing",value:"320100",children:[{text:"Xuanwu",value:"320102"},{text:"Qinghuai",value:"320104"},{text:"Jianye",value:"320105"}]},{text:"Wuxi",value:"320200",children:[{text:"Xishan",value:"320205"},{text:"Huishan",value:"320206"},{text:"Binhu",value:"320211"}]},{text:"Xuzhou",value:"320300",children:[{text:"Gulou",value:"320302"},{text:"Yunlong",value:"320303"},{text:"Jiawang",value:"320305"}]}]}];const S=c({setup(l){const a=o({"zh-CN":{area:"地区",options:N,selectArea:"请选择地区",customColor:"自定义颜色",asyncOptions:"异步加载选项",asyncOptions1:[{text:"浙江省",value:"330000",children:[]}],asyncOptions2:[{text:"杭州市",value:"330100"},{text:"宁波市",value:"330200"}],customFieldNames:"自定义字段名"},"en-US":{area:"Area",options:F,selectArea:"Select Area",customColor:"Custom Color",asyncOptions:"Async Options",asyncOptions1:[{text:"Zhejiang",value:"330000",children:[]}],asyncOptions2:[{text:"Hangzhou",value:"330100"},{text:"Ningbo",value:"330200"}],customFieldNames:"Custom Field Names"}}),s=d({show:!1,value:"",result:""}),n=d({show:!1,value:null,result:""}),i=d({show:!1,value:null,result:"",options:a("asyncOptions1")}),u=d({show:!1,value:null,result:""}),r={text:"name",value:"code",children:"items"},c=x((()=>{const e=y(a("options")),t=e=>{"text"in e&&(e.name=e.text,delete e.text),"value"in e&&(e.code=e.value,delete e.value),"children"in e&&(e.items=e.children,delete e.children,e.items.forEach(t))};return e.forEach(t),e})),p=({value:e})=>{"330000"===e&&setTimeout((()=>{i.options[0].children=a("asyncOptions2")}),500)},h=(e,{value:t,selectedOptions:l})=>{const a=l.map((e=>e.text||e.name)).join("/");e.show=!1,e.value=t,e.result=a};return(l,o)=>{const d=b("demo-block");return f(),w(V,null,[m(d,{card:"",title:g(a)("basicUsage")},{default:j((()=>[m(g(e),{modelValue:g(s).result,"onUpdate:modelValue":o[0]||(o[0]=e=>g(s).result=e),"is-link":"",readonly:"",label:g(a)("area"),placeholder:g(a)("selectArea"),onClick:o[1]||(o[1]=e=>g(s).show=!0)},null,8,["modelValue","label","placeholder"]),m(g(t),{show:g(s).show,"onUpdate:show":o[5]||(o[5]=e=>g(s).show=e),round:"",teleport:"body",position:"bottom"},{default:j((()=>[m(g(k),{modelValue:g(s).value,"onUpdate:modelValue":o[2]||(o[2]=e=>g(s).value=e),title:g(a)("selectArea"),options:g(a)("options"),onClose:o[3]||(o[3]=e=>g(s).show=!1),onFinish:o[4]||(o[4]=e=>h(g(s),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"]),m(d,{card:"",title:g(a)("customColor")},{default:j((()=>[m(g(e),{modelValue:g(n).result,"onUpdate:modelValue":o[6]||(o[6]=e=>g(n).result=e),"is-link":"",readonly:"",label:g(a)("area"),placeholder:g(a)("selectArea"),onClick:o[7]||(o[7]=e=>g(n).show=!0)},null,8,["modelValue","label","placeholder"]),m(g(t),{show:g(n).show,"onUpdate:show":o[11]||(o[11]=e=>g(n).show=e),round:"",teleport:"body",position:"bottom"},{default:j((()=>[m(g(k),{modelValue:g(n).value,"onUpdate:modelValue":o[8]||(o[8]=e=>g(n).value=e),title:g(a)("selectArea"),options:g(a)("options"),"active-color":"#1989fa",onClose:o[9]||(o[9]=e=>g(n).show=!1),onFinish:o[10]||(o[10]=e=>h(g(n),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"]),m(d,{card:"",title:g(a)("asyncOptions")},{default:j((()=>[m(g(e),{modelValue:g(i).result,"onUpdate:modelValue":o[12]||(o[12]=e=>g(i).result=e),"is-link":"",readonly:"",label:g(a)("area"),placeholder:g(a)("selectArea"),onClick:o[13]||(o[13]=e=>g(i).show=!0)},null,8,["modelValue","label","placeholder"]),m(g(t),{show:g(i).show,"onUpdate:show":o[17]||(o[17]=e=>g(i).show=e),round:"",teleport:"body",position:"bottom"},{default:j((()=>[m(g(k),{modelValue:g(i).value,"onUpdate:modelValue":o[14]||(o[14]=e=>g(i).value=e),title:g(a)("selectArea"),options:g(i).options,onClose:o[15]||(o[15]=e=>g(i).show=!1),onChange:p,onFinish:o[16]||(o[16]=e=>h(g(i),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"]),m(d,{card:"",title:g(a)("customFieldNames")},{default:j((()=>[m(g(e),{modelValue:g(u).result,"onUpdate:modelValue":o[18]||(o[18]=e=>g(u).result=e),"is-link":"",readonly:"",label:g(a)("area"),placeholder:g(a)("selectArea"),onClick:o[19]||(o[19]=e=>g(u).show=!0)},null,8,["modelValue","label","placeholder"]),m(g(t),{show:g(u).show,"onUpdate:show":o[23]||(o[23]=e=>g(u).show=e),round:"",teleport:"body",position:"bottom","safe-area-inset-bottom":""},{default:j((()=>[m(g(k),{modelValue:g(u).value,"onUpdate:modelValue":o[20]||(o[20]=e=>g(u).value=e),title:g(a)("selectArea"),options:g(c),"field-names":r,onClose:o[21]||(o[21]=e=>g(u).show=!1),onFinish:o[22]||(o[22]=e=>h(g(u),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"])],64)}}});export{S as default};
