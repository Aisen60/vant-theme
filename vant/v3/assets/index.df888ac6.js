import{c as e,t,g as s,a as o}from"./use-translate.91889477.js";import{w as a}from"./with-install.c9eedd0e.js";import{B as u,a as l}from"./constant.4d85ecb9.js";import{z as n,e as r,D as i,x as f,r as c,o as v,a as d,w as m,B as g,F as h}from"./vue-libs.71fdcafc.js";import{N as p}from"./index.99b4012a.js";import"./use-touch.30351383.js";import"./index.6e9dbec3.js";import"./index.f5d5940e.js";import"./utils.b0356070.js";import"./index.94f7437a.js";const[w,I]=e("password-input");const b=a(n({name:w,props:{info:String,mask:t,gutter:[Number,String],focused:Boolean,errorInfo:String,value:{type:String,default:""},length:{type:[Number,String],default:6}},emits:["focus"],setup(e,{emit:t}){const o=e=>{e.stopPropagation(),t("focus",e)},a=()=>{const t=[],{mask:o,value:a,length:u,gutter:n,focused:i}=e;for(let e=0;e<u;e++){const u=a[e],f=0!==e&&!n,c=i&&e===a.length;let v;0!==e&&n&&(v={marginLeft:s(n)}),t.push(r("li",{class:[{[l]:f},I("item",{focus:c})],style:v},[o?r("i",{style:{visibility:u?"visible":"hidden"}},null):u,c&&r("div",{class:I("cursor")},null)]))}return t};return()=>{const t=e.errorInfo||e.info;return r("div",{class:I()},[r("ul",{class:[I("security"),{[u]:!e.gutter}],onTouchstart:o},[a()]),t&&r("div",{class:I(e.errorInfo?"error-info":"info")},[t])])}}}));const k=n({setup(e){const t=o({"zh-CN":{info:"密码为 6 位数字",showInfo:"提示信息",addGutter:"格子间距",errorInfo:"密码错误",removeMask:"明文展示",customLength:"自定义长度"},"en-US":{info:"Some tips",showInfo:"Show Info",addGutter:"Add Gutter",errorInfo:"Password Mistake",removeMask:"Remove Mask",customLength:"Custom Length"}}),s=i({showInfo:"123",addGutter:"123",basicUsage:"123",removeMask:"123",customLength:"123"}),a=i("basicUsage"),u=i(""),l=i(),n=i(),w=i(),I=i(),k=i(),L={showInfo:l,addGutter:n,basicUsage:w,removeMask:I,customLength:k},M=e=>{if(!a.value)return;const o="customLength"===a.value?4:6,l=(s.value[a.value]+e).slice(0,o);s.value[a.value]=l,"showInfo"===a.value&&6===l.length&&"123456"!==l&&(u.value=t("errorInfo"))},j=()=>{a.value&&(s.value[a.value]=s.value[a.value].slice(0,s.value[a.value].length-1),"showInfo"===a.value&&(u.value=""))};return f(a,(e=>{if(e){const t=L[e].value;if(t){const{top:e}=t.$el.getBoundingClientRect();window.scrollTo(0,window.pageYOffset+e)}}})),(e,o)=>{const i=c("demo-block");return v(),d(h,null,[r(i,{ref:(e,t)=>{t.basicUsage=e,w.value=e},title:g(t)("basicUsage")},{default:m((()=>[r(g(b),{value:s.value.basicUsage,focused:"basicUsage"===a.value,onFocus:o[0]||(o[0]=e=>a.value="basicUsage")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.customLength=e,k.value=e},title:g(t)("customLength")},{default:m((()=>[r(g(b),{value:s.value.customLength,length:4,focused:"customLength"===a.value,onFocus:o[1]||(o[1]=e=>a.value="customLength")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.addGutter=e,n.value=e},title:g(t)("addGutter")},{default:m((()=>[r(g(b),{value:s.value.addGutter,gutter:10,focused:"addGutter"===a.value,onFocus:o[2]||(o[2]=e=>a.value="addGutter")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.removeMask=e,I.value=e},title:g(t)("removeMask")},{default:m((()=>[r(g(b),{mask:!1,value:s.value.removeMask,focused:"removeMask"===a.value,onFocus:o[3]||(o[3]=e=>a.value="removeMask")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.showInfo=e,l.value=e},title:g(t)("showInfo")},{default:m((()=>[r(g(b),{info:g(t)("info"),value:s.value.showInfo,"error-info":u.value,focused:"showInfo"===a.value,onFocus:o[4]||(o[4]=e=>a.value="showInfo")},null,8,["info","value","error-info","focused"])])),_:1},8,["title"]),r(g(p),{show:!!a.value,onBlur:o[5]||(o[5]=e=>a.value=null),onInput:M,onDelete:j},null,8,["show"])],64)}}});export{k as default};
