import{t as e}from"./use-translate.b583725c.js";import{c as t,w as o}from"./with-install.62f47d2f.js";import{e as l,A as a,E as r,D as s,y as c,l as n,v as i,T as u,B as d,R as m}from"./vendor.ef334a89.js";import{s as h}from"./event.7d40caae.js";import{b as p}from"./unit.49c29796.js";import{u as v}from"./use-touch.ce80657e.js";import{L as x}from"./index.6fa13143.js";import{u as y}from"./index.e65d868e.js";const[f,g]=t("key"),w=l("svg",{class:g("collapse-icon"),viewBox:"0 0 30 24"},[l("path",{d:"M25.877 12.843h-1.502c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h1.5c.187 0 .187 0 .187-.188v-1.511c0-.19 0-.191-.185-.191zM17.999 10.2c0 .188 0 .188.188.188h1.687c.188 0 .188 0 .188-.188V8.688c0-.187.004-.187-.186-.19h-1.69c-.187 0-.187 0-.187.19V10.2zm2.25-3.967h1.5c.188 0 .188 0 .188-.188v-1.7c0-.19 0-.19-.188-.19h-1.5c-.189 0-.189 0-.189.19v1.7c0 .188 0 .188.19.188zm2.063 4.157h3.563c.187 0 .187 0 .187-.189V4.346c0-.19.004-.19-.185-.19h-1.69c-.187 0-.187 0-.187.188v4.155h-1.688c-.187 0-.187 0-.187.189v1.514c0 .19 0 .19.187.19zM14.812 24l2.812-3.4H12l2.813 3.4zm-9-11.157H4.31c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h1.502c.187 0 .187 0 .187-.188v-1.511c0-.19.01-.191-.189-.191zm15.937 0H8.25c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h13.5c.188 0 .188 0 .188-.188v-1.511c0-.19 0-.191-.188-.191zm-11.438-2.454h1.5c.188 0 .188 0 .188-.188V8.688c0-.187 0-.187-.188-.189h-1.5c-.187 0-.187 0-.187.189V10.2c0 .188 0 .188.187.188zM27.94 0c.563 0 .917.21 1.313.567.518.466.748.757.748 1.51v14.92c0 .567-.188 1.134-.562 1.512-.376.378-.938.566-1.313.566H2.063c-.563 0-.938-.188-1.313-.566-.562-.378-.75-.945-.75-1.511V2.078C0 1.51.188.944.562.567.938.189 1.5 0 1.875 0zm-.062 2H2v14.92h25.877V2zM5.81 4.157c.19 0 .19 0 .19.189v1.762c-.003.126-.024.126-.188.126H4.249c-.126-.003-.126-.023-.126-.188v-1.7c-.187-.19 0-.19.188-.19zm10.5 2.077h1.503c.187 0 .187 0 .187-.188v-1.7c0-.19 0-.19-.187-.19h-1.502c-.188 0-.188.001-.188.19v1.7c0 .188 0 .188.188.188zM7.875 8.5c.187 0 .187.002.187.189V10.2c0 .188 0 .188-.187.188H4.249c-.126-.002-.126-.023-.126-.188V8.625c.003-.126.024-.126.188-.126zm7.875 0c.19.002.19.002.19.189v1.575c-.003.126-.024.126-.19.126h-1.563c-.126-.002-.126-.023-.126-.188V8.625c.002-.126.023-.126.189-.126zm-6-4.342c.187 0 .187 0 .187.189v1.7c0 .188 0 .188-.187.188H8.187c-.126-.003-.126-.023-.126-.188V4.283c.003-.126.024-.126.188-.126zm3.94 0c.185 0 .372 0 .372.189v1.762c-.002.126-.023.126-.187.126h-1.75C12 6.231 12 6.211 12 6.046v-1.7c0-.19.187-.19.187-.19z",fill:"currentColor"},null)]),b=l("svg",{class:g("delete-icon"),viewBox:"0 0 32 22"},[l("path",{d:"M28.016 0A3.991 3.991 0 0132 3.987v14.026c0 2.2-1.787 3.987-3.98 3.987H10.382c-.509 0-.996-.206-1.374-.585L.89 13.09C.33 12.62 0 11.84 0 11.006c0-.86.325-1.62.887-2.08L9.01.585A1.936 1.936 0 0110.383 0zm0 1.947H10.368L2.24 10.28c-.224.226-.312.432-.312.73 0 .287.094.51.312.729l8.128 8.333h17.648a2.041 2.041 0 002.037-2.04V3.987c0-1.127-.915-2.04-2.037-2.04zM23.028 6a.96.96 0 01.678.292.95.95 0 01-.003 1.377l-3.342 3.348 3.326 3.333c.189.188.292.43.292.679 0 .248-.103.49-.292.679a.96.96 0 01-.678.292.959.959 0 01-.677-.292L18.99 12.36l-3.343 3.345a.96.96 0 01-.677.292.96.96 0 01-.678-.292.962.962 0 01-.292-.68c0-.248.104-.49.292-.679l3.342-3.348-3.342-3.348A.963.963 0 0114 6.971c0-.248.104-.49.292-.679A.96.96 0 0114.97 6a.96.96 0 01.677.292l3.358 3.348 3.345-3.348A.96.96 0 0123.028 6z",fill:"currentColor"},null)]);var z=a({name:f,props:{type:String,text:[Number,String],color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:o}){const a=r(!1),s=v(),c=e=>{s.start(e),a.value=!0},n=e=>{s.move(e),s.direction.value&&(a.value=!1)},i=l=>{a.value&&(o.default||l.preventDefault(),a.value=!1,t("press",e.text,e.type))},u=()=>{if(e.loading)return l(x,{class:g("loading-icon")},null);const t=o.default?o.default():e.text;switch(e.type){case"delete":return t||b;case"extra":return t||w;default:return t}};return()=>l("div",{class:g("wrapper",{wider:e.wider}),onTouchstart:c,onTouchmove:n,onTouchend:i,onTouchcancel:i},[l("div",{role:"button",tabindex:0,class:g([e.color,{large:e.large,active:a.value,delete:"delete"===e.type}])},[u()])])}});const[B,V]=t("number-keyboard");const A=o(a({name:B,props:{show:Boolean,title:String,zIndex:[Number,String],teleport:[String,Object],transition:e,blurOnClose:e,showDeleteKey:e,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:e,safeAreaInsetBottom:e,theme:{type:String,default:"default"},modelValue:{type:String,default:""},extraKey:{type:[String,Array],default:""},maxlength:{type:[Number,String],default:Number.MAX_VALUE}},emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:o}){const a=r(),v=()=>{const t=Array(9).fill("").map(((e,t)=>({text:t+1})));return e.randomKeyOrder&&t.sort((()=>Math.random()>.5?1:-1)),t},x=s((()=>"custom"===e.theme?(()=>{const t=v(),{extraKey:o}=e,l=Array.isArray(o)?o:[o];return 1===l.length?t.push({text:0,wider:!0},{text:l[0],type:"extra"}):2===l.length&&t.push({text:l[0],type:"extra"},{text:0},{text:l[1],type:"extra"}),t})():[...v(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}])),f=()=>{e.show&&t("blur")},g=()=>{t("close"),e.blurOnClose&&f()},w=()=>t(e.show?"show":"hide"),b=(o,l)=>{if(""===o)return void("extra"===l&&f());const a=e.modelValue;"delete"===l?(t("delete"),t("update:modelValue",a.slice(0,a.length-1))):"close"===l?g():a.length<e.maxlength&&(t("input",o),t("update:modelValue",a+o))},B=()=>{if("custom"===e.theme)return l("div",{class:V("sidebar")},[e.showDeleteKey&&l(z,{large:!0,text:e.deleteButtonText,type:"delete",onPress:b},{delete:o.delete}),l(z,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:b},null)])};return c((()=>e.show),(o=>{e.transition||t(o?"show":"hide")})),e.hideOnClickOutside&&y(a,f,{eventName:"touchstart"}),()=>{const t=(()=>{const{title:t,theme:a,closeButtonText:r}=e,s=o["title-left"],c=r&&"default"===a;if(t||c||s)return l("div",{class:V("header")},[s&&l("span",{class:V("title-left")},[s()]),t&&l("h2",{class:V("title")},[t]),c&&l("button",{type:"button",class:V("close"),onClick:g},[r])])})(),r=l(u,{name:e.transition?"van-slide-up":""},{default:()=>[n(l("div",{ref:a,style:p(e.zIndex),class:V({unfit:!e.safeAreaInsetBottom,"with-title":!!t}),onTouchstart:h,onAnimationend:w,onWebkitAnimationEnd:w},[t,l("div",{class:V("body")},[l("div",{class:V("keys")},[x.value.map((e=>{const t={};return"delete"===e.type&&(t.default=o.delete),"extra"===e.type&&(t.default=o["extra-key"]),l(z,{key:e.text,text:e.text,type:e.type,wider:e.wider,color:e.color,onPress:b},t)}))]),B()])]),[[i,e.show]])]});return e.teleport?l(m,{to:e.teleport},"function"==typeof(s=r)||"[object Object]"===Object.prototype.toString.call(s)&&!d(s)?r:{default:()=>[r]}):r;var s}}}));export{A as N};
