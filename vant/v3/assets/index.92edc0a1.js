import{c as S,b as I,e as N,u as U,R as z,p as j,J as $,a as q}from"./use-translate.c431c781.js";import{t as w,w as T,n as H}from"./with-install.6654422d.js";import{b as J}from"./constant.80c6de18.js";import{z as k,e as a,C as v,B as A,x as K,Q as M,q as Q,j as Y,v as G,r as W,o as X,a as Z,w as o,A as e,h as d,t as r,F as ee}from"./vue-libs.cab43f37.js";import{c as P,C as te}from"./index.c58eb23d.js";import{u as le}from"./use-expose.cd1f8e82.js";import{u as ae}from"./use-lazy-render.c492e2a8.js";import{I as oe}from"./index.73431c4d.js";import"./use-route.1ad21ca2.js";const[F,ne]=S("collapse"),L=Symbol(F),ie={border:w,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var se=k({name:F,props:ie,emits:["change","update:modelValue"],setup(c,{emit:t,slots:n}){const{linkChildren:p}=I(L),m=l=>{t("change",l),t("update:modelValue",l)};return p({toggle:(l,u)=>{const{accordion:i,modelValue:_}=c;m(i?l===_?"":l:u?_.concat(l):_.filter(C=>C!==l))},isExpanded:l=>{const{accordion:u,modelValue:i}=c;return u?i===l:i.includes(l)}}),()=>{var l;return a("div",{class:[ne(),{[J]:c.border}]},[(l=n.default)==null?void 0:l.call(n)])}}});const V=T(se),[ue,h]=S("collapse-item"),de=["icon","title","value","label","right-icon"],re=N({},P,{name:H,isLink:w,disabled:Boolean,readonly:Boolean});var ce=k({name:ue,props:re,setup(c,{slots:t}){const n=v(),p=v(),{parent:m,index:x}=U(L);if(!m)return;const g=A(()=>{var s;return(s=c.name)!=null?s:x.value}),l=A(()=>m.isExpanded(g.value)),u=v(l.value),i=ae(u),_=()=>{l.value?n.value&&(n.value.style.height=""):u.value=!1};K(l,(s,E)=>{if(E===null)return;s&&(u.value=!0),(s?Q:$)(()=>{if(!p.value||!n.value)return;const{offsetHeight:b}=p.value;if(b){const B=`${b}px`;n.value.style.height=s?"0":B,z(()=>{n.value&&(n.value.style.height=s?B:"0")})}else _()})});const C=(s=!l.value)=>{m.toggle(g.value,s)},R=()=>{!c.disabled&&!c.readonly&&C()},O=()=>{const{border:s,disabled:E,readonly:y}=c,b=j(c,Object.keys(P));return y&&(b.isLink=!1),(E||y)&&(b.clickable=!1),a(te,M({role:"button",class:h("title",{disabled:E,expanded:l.value,borderless:!s}),"aria-expanded":String(l.value),onClick:R},b),j(t,de))},D=i(()=>{var s;return Y(a("div",{ref:n,class:h("wrapper"),onTransitionend:_},[a("div",{ref:p,class:h("content")},[(s=t.default)==null?void 0:s.call(t)])]),[[G,u.value]])});return le({toggle:C}),()=>a("div",{class:[h({border:x.value&&c.border})]},[O(),D()])}});const f=T(ce);const Ee=k({setup(c){const t=q({"zh-CN":{accordion:"\u624B\u98CE\u7434",titleSlot:"\u81EA\u5B9A\u4E49\u6807\u9898\u5185\u5BB9",text:"\u4EE3\u7801\u662F\u5199\u51FA\u6765\u7ED9\u4EBA\u770B\u7684\uFF0C\u9644\u5E26\u80FD\u5728\u673A\u5668\u4E0A\u8FD0\u884C"},"en-US":{accordion:"Accordion",titleSlot:"Custom title",text:"Content"}}),n=v([0]),p=v(0),m=v([]),x=v([]);return(g,l)=>{const u=W("demo-block");return X(),Z(ee,null,[a(u,{title:e(t)("basicUsage")},{default:o(()=>[a(e(V),{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=i=>n.value=i)},{default:o(()=>[a(e(f),{title:e(t)("title")+1},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+2},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+3},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),a(u,{title:e(t)("accordion")},{default:o(()=>[a(e(V),{modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=i=>p.value=i),accordion:""},{default:o(()=>[a(e(f),{title:e(t)("title")+1},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+2},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+3},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),a(u,{title:e(t)("disabled")},{default:o(()=>[a(e(V),{modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=i=>m.value=i)},{default:o(()=>[a(e(f),{title:e(t)("title")+1},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+2,disabled:""},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+3,disabled:""},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),a(u,{title:e(t)("titleSlot")},{default:o(()=>[a(e(V),{modelValue:x.value,"onUpdate:modelValue":l[3]||(l[3]=i=>x.value=i)},{default:o(()=>[a(e(f),null,{title:o(()=>[d(r(e(t)("title")+1),1),a(e(oe),{name:"question-o"})]),default:o(()=>[d(" "+r(e(t)("text")),1)]),_:1}),a(e(f),{title:e(t)("title")+2,value:e(t)("content"),icon:"shop-o"},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title","value"])]),_:1},8,["modelValue"])]),_:1},8,["title"])],64)}}});export{Ee as default};
