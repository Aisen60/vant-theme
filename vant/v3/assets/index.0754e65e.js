import{C as e}from"./index.5d323f2c.js";import{c as t,e as o,t as n,o as i,a as s}from"./use-translate.91889477.js";import{w as a}from"./with-install.c9eedd0e.js";import{a as c,p as l,P as r}from"./index.b58615a3.js";import{z as p,e as m,I as d,D as u,C as h,r as w,o as f,a as v,w as b,B as k,F as q}from"./vue-libs.71fdcafc.js";import{T as j}from"./function-call.470433b8.js";import"./use-route.913efdd2.js";import"./index.d38d9435.js";import"./interceptor.fd551ac3.js";import"./use-expose.5ea79906.js";import"./use-touch.30351383.js";import"./index.94f7437a.js";import"./utils.b0356070.js";import"./index.9e2e36ca.js";import"./use-lazy-render.3dcfda58.js";import"./on-popup-reopen.d7054786.js";import"./index.38991bce.js";import"./mount-component.d3f8f39a.js";import"./index.6e9dbec3.js";const S=["qq","link","weibo","wechat","poster","qrcode","weapp-qrcode","wechat-moments"],g=[...c,"closeOnPopstate","safeAreaInsetBottom"];function x(e){return S.includes(e)?`https://img.yzcdn.cn/vant/share-sheet-${e}.png`:e}const[y,C,Q]=t("share-sheet");const z=a(p({name:y,props:o({},l,{title:String,cancelText:String,description:String,closeOnPopstate:n,safeAreaInsetBottom:n,options:{type:Array,default:()=>[]}}),emits:["cancel","select","update:show"],setup(e,{emit:t,slots:o}){const n=e=>t("update:show",e),s=()=>{n(!1),t("cancel")},a=()=>{const t=o.title?o.title():e.title,n=o.description?o.description():e.description;if(t||n)return m("div",{class:C("header")},[t&&m("h2",{class:C("title")},[t]),n&&m("span",{class:C("description")},[n])])},c=(e,o)=>{const{name:n,icon:i,className:s,description:a}=e;return m("div",{role:"button",tabindex:0,class:[C("option"),s],onClick:()=>((e,o)=>t("select",e,o))(e,o)},[m("img",{src:x(i),class:C("icon")},null),n&&m("span",{class:C("name")},[n]),a&&m("span",{class:C("option-description")},[a])])},l=(e,t)=>m("div",{class:C("options",{border:t})},[e.map(c)]),p=()=>{const{options:t}=e;return Array.isArray(t[0])?t.map(((e,t)=>l(e,0!==t))):l(t)},u=()=>{var t;const n=null!=(t=e.cancelText)?t:Q("cancel");if(o.cancel||n)return m("button",{type:"button",class:C("cancel"),onClick:s},[o.cancel?o.cancel():n])};return()=>m(r,d({round:!0,class:C(),position:"bottom"},i(e,g),{"onUpdate:show":n}),{default:()=>[a(),p(),u()]})}})),I=p({setup(t){const o=s({"zh-CN":{qq:"QQ",name:"名称",link:"复制链接",title:"立即分享给好友",weibo:"微博",wechat:"微信",poster:"分享海报",qrcode:"二维码",multiLine:"展示多行选项",showSheet:"显示分享面板",withDesc:"展示描述信息",customIcon:"自定义图标",description:"描述信息",weappQrcode:"小程序码",wechatMoments:"朋友圈"},"en-US":{qq:"QQ",name:"Name",link:"Link",title:"Share",weibo:"Weibo",wechat:"Wechat",poster:"Poster",qrcode:"Qrcode",multiLine:"Multi Line",showSheet:"Show ShareSheet",withDesc:"Show Description",customIcon:"Custom Icon",description:"Description",weappQrcode:"Weapp Qrcode",wechatMoments:"Wechat Moments"}}),n=u(!1),i=u(!1),a=u(!1),c=u(!1),l=h((()=>[{name:o("wechat"),icon:"wechat"},{name:o("weibo"),icon:"weibo"},{name:o("link"),icon:"link"},{name:o("poster"),icon:"poster"},{name:o("qrcode"),icon:"qrcode"}])),r=h((()=>[[{name:o("wechat"),icon:"wechat"},{name:o("wechatMoments"),icon:"wechat-moments"},{name:o("weibo"),icon:"weibo"},{name:o("qq"),icon:"qq"}],[{name:o("link"),icon:"link"},{name:o("poster"),icon:"poster"},{name:o("qrcode"),icon:"qrcode"},{name:o("weappQrcode"),icon:"weapp-qrcode"}]])),p=h((()=>[{name:o("name"),icon:"https://img.yzcdn.cn/vant/custom-icon-fire.png"},{name:o("name"),icon:"https://img.yzcdn.cn/vant/custom-icon-light.png"},{name:o("name"),icon:"https://img.yzcdn.cn/vant/custom-icon-water.png"}])),d=h((()=>[{name:o("wechat"),icon:"wechat"},{name:o("weibo"),icon:"weibo"},{name:o("link"),icon:"link",description:o("description")},{name:o("poster"),icon:"poster"},{name:o("qrcode"),icon:"qrcode"}])),S=e=>{j(e.name),n.value=!1,i.value=!1,a.value=!1,c.value=!1};return(t,s)=>{const u=w("demo-block");return f(),v(q,null,[m(u,{card:"",title:k(o)("basicUsage")},{default:b((()=>[m(k(e),{"is-link":"",title:k(o)("showSheet"),onClick:s[0]||(s[0]=e=>n.value=!0)},null,8,["title"]),m(k(z),{show:n.value,"onUpdate:show":s[1]||(s[1]=e=>n.value=e),title:k(o)("title"),options:k(l),onSelect:S},null,8,["show","title","options"])])),_:1},8,["title"]),m(u,{card:"",title:k(o)("multiLine")},{default:b((()=>[m(k(e),{"is-link":"",title:k(o)("showSheet"),onClick:s[2]||(s[2]=e=>a.value=!0)},null,8,["title"]),m(k(z),{show:a.value,"onUpdate:show":s[3]||(s[3]=e=>a.value=e),title:k(o)("title"),options:k(r),onSelect:S},null,8,["show","title","options"])])),_:1},8,["title"]),m(u,{card:"",title:k(o)("customIcon")},{default:b((()=>[m(k(e),{"is-link":"",title:k(o)("showSheet"),onClick:s[4]||(s[4]=e=>c.value=!0)},null,8,["title"]),m(k(z),{show:c.value,"onUpdate:show":s[5]||(s[5]=e=>c.value=e),options:k(p),onSelect:S},null,8,["show","options"])])),_:1},8,["title"]),m(u,{card:"",title:k(o)("withDesc")},{default:b((()=>[m(k(e),{"is-link":"",title:k(o)("showSheet"),onClick:s[6]||(s[6]=e=>i.value=!0)},null,8,["title"]),m(k(z),{show:i.value,"onUpdate:show":s[7]||(s[7]=e=>i.value=e),title:k(o)("title"),options:k(d),description:k(o)("description"),onSelect:S},null,8,["show","title","options","description"])])),_:1},8,["title"])],64)}}});export{I as default};
