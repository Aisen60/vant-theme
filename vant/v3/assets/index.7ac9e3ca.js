import{c as U,i as W,G,X as I,l as L,D as M,a as O}from"./use-translate.c431c781.js";import{c as X,n as F,w as V}from"./with-install.6654422d.js";import{c as $}from"./interceptor.17973404.js";import{u as J}from"./use-touch.0cf4a6e6.js";import{u as K}from"./use-expose.cd1f8e82.js";import{z as P,C as b,G as Q,B as q,e as l,r as Y,o as Z,a as ee,w as r,A as t,F as te}from"./vue-libs.cab43f37.js";import{B as p}from"./index.f77b2820.js";import{C as A}from"./index.c58eb23d.js";import{C as oe}from"./index.6601f682.js";import{D as le}from"./function-call.2f2afe18.js";import"./constant.80c6de18.js";import"./use-route.1ad21ca2.js";import"./index.73431c4d.js";import"./index.7c2cb6fe.js";import"./index.bf4c3c53.js";import"./index.4fc74d62.js";import"./mount-component.3889b323.js";import"./index.949f0f09.js";import"./use-lazy-render.c492e2a8.js";import"./on-popup-reopen.6de6ab9a.js";import"./index.c2bf76af.js";import"./index.f8792ca9.js";const[se,v]=U("swipe-cell"),ne={name:X(""),disabled:Boolean,leftWidth:F,rightWidth:F,beforeClose:Function,stopPropagation:Boolean};var ae=P({name:se,props:ne,emits:["open","close","click"],setup(s,{emit:o,slots:u}){let c,f,d;const m=b(),_=b(),y=b(),n=Q({offset:0,dragging:!1}),g=J(),w=e=>e.value?G(e).width:0,h=q(()=>W(s.leftWidth)?+s.leftWidth:w(_)),C=q(()=>W(s.rightWidth)?+s.rightWidth:w(y)),T=e=>{c=!0,n.offset=e==="left"?h.value:-C.value,o("open",{name:s.name,position:e})},x=e=>{n.offset=0,c&&(c=!1,o("close",{name:s.name,position:e}))},R=e=>{const a=Math.abs(n.offset),i=.15,H=c?1-i:i,S=e==="left"?h.value:C.value;S&&a>S*H?T(e):x(e)},z=e=>{s.disabled||(d=n.offset,g.start(e))},N=e=>{if(s.disabled)return;const{deltaX:a}=g;g.move(e),g.isHorizontal()&&(f=!0,n.dragging=!0,(!c||a.value*d<0)&&L(e,s.stopPropagation),n.offset=M(a.value+d,-C.value,h.value))},k=()=>{n.dragging&&(n.dragging=!1,R(n.offset>0?"left":"right"),setTimeout(()=>{f=!1},0))},B=(e="outside")=>{o("click",e),c&&!f&&$(s.beforeClose,{args:[{name:s.name,position:e}],done:()=>x(e)})},E=(e,a)=>i=>{a&&i.stopPropagation(),B(e)},D=(e,a)=>{const i=u[e];if(i)return l("div",{ref:a,class:v(e),onClick:E(e,!0)},[i()])};return K({open:T,close:x}),I(m,()=>B("outside"),{eventName:"touchstart"}),()=>{var a;const e={transform:`translate3d(${n.offset}px, 0, 0)`,transitionDuration:n.dragging?"0s":".6s"};return l("div",{ref:m,class:v(),onClick:E("cell"),onTouchstart:z,onTouchmove:N,onTouchend:k,onTouchcancel:k},[l("div",{class:v("wrapper"),style:e},[D("left",_),(a=u.default)==null?void 0:a.call(u),D("right",y)])])}}});const j=V(ae);const De=P({setup(s){const o=O({"zh-CN":{select:"\u9009\u62E9",delete:"\u5220\u9664",collect:"\u6536\u85CF",title:"\u5355\u5143\u683C",confirm:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",cardTitle:"\u5546\u54C1\u6807\u9898",beforeClose:"\u5F02\u6B65\u5173\u95ED",customContent:"\u81EA\u5B9A\u4E49\u5185\u5BB9"},"en-US":{select:"Select",delete:"Delete",collect:"Collect",title:"Cell",confirm:"Are you sure to delete?",cardTitle:"Title",beforeClose:"Before Close",customContent:"Custom Content"}}),u="https://img.yzcdn.cn/vant/ipad.jpeg",c=({position:f})=>{switch(f){case"left":case"cell":case"outside":return!0;case"right":return new Promise(d=>{le.confirm({title:o("confirm")}).then(d)})}};return(f,d)=>{const m=Y("demo-block");return Z(),ee(te,null,[l(m,{title:t(o)("basicUsage")},{default:r(()=>[l(t(j),null,{left:r(()=>[l(t(p),{square:"",type:"primary",text:t(o)("select")},null,8,["text"])]),right:r(()=>[l(t(p),{square:"",type:"danger",text:t(o)("delete")},null,8,["text"]),l(t(p),{square:"",type:"primary",text:t(o)("collect")},null,8,["text"])]),default:r(()=>[l(t(A),{border:!1,title:t(o)("title"),value:t(o)("content")},null,8,["title","value"])]),_:1})]),_:1},8,["title"]),l(m,{title:t(o)("customContent")},{default:r(()=>[l(t(j),null,{right:r(()=>[l(t(p),{square:"",type:"danger",class:"delete-button",text:t(o)("delete")},null,8,["text"])]),default:r(()=>[l(t(oe),{num:"2",price:"2.00",desc:t(o)("desc"),title:t(o)("cardTitle"),thumb:u},null,8,["desc","title"])]),_:1})]),_:1},8,["title"]),l(m,{title:t(o)("beforeClose")},{default:r(()=>[l(t(j),{"before-close":c},{left:r(()=>[l(t(p),{square:"",type:"primary",text:t(o)("select")},null,8,["text"])]),right:r(()=>[l(t(p),{square:"",type:"danger",text:t(o)("delete")},null,8,["text"])]),default:r(()=>[l(t(A),{border:!1,title:t(o)("title"),value:t(o)("content")},null,8,["title","value"])]),_:1})]),_:1},8,["title"])],64)}}});export{De as default};
