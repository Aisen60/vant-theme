import{t as e,e as t,p as l,a}from"./use-translate.b583725c.js";import{c as o,w as i}from"./with-install.62f47d2f.js";import{d as s}from"./constant.4d85ecb9.js";import{A as u,e as d,E as r,D as n,y as c,J as m,s as f,l as v,v as p,r as b,o as x,a as _,w as g,C as V,i as h,t as j,F as y}from"./vendor.ef334a89.js";import{u as C}from"./useChildren.a94b5b99.js";import{c as S,C as k}from"./index.550f913c.js";import{u as U}from"./use-expose.33de0944.js";import{u as w}from"./use-lazy-render.49349a00.js";import{u as A}from"./useParent.0a2f50cb.js";import{d as B,r as E}from"./utils.b0356070.js";import{I as N}from"./index.3af24151.js";import"./use-route.3fda2186.js";import"./unit.49c29796.js";const[z,L]=o("collapse"),q=Symbol(z);const D=i(u({name:z,props:{border:e,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:l}){const{linkChildren:a}=C(q),o=e=>{t("change",e),t("update:modelValue",e)};return a({toggle:(t,l)=>{const{accordion:a,modelValue:i}=e;o(a?t===i?"":t:l?i.concat(t):i.filter((e=>e!==t)))},isExpanded:t=>{const{accordion:l,modelValue:a}=e;return l?a===t:a.includes(t)}}),()=>{var t;return d("div",{class:[L(),{[s]:e.border}]},[null==(t=l.default)?void 0:t.call(l)])}}})),[F,H]=o("collapse-item"),I=["icon","title","value","label","right-icon"];const J=i(u({name:F,props:t({},S,{name:[Number,String],isLink:e,disabled:Boolean,readonly:Boolean}),setup(e,{slots:t}){const a=r(),o=r(),{parent:i,index:s}=A(q);if(!i)return;const u=n((()=>{var t;return null!=(t=e.name)?t:s.value})),b=n((()=>i.isExpanded(u.value))),x=r(b.value),_=w(x),g=()=>{b.value?a.value&&(a.value.style.height=""):x.value=!1};c(b,((e,t)=>{if(null===t)return;e&&(x.value=!0);(e?f:E)((()=>{if(!o.value||!a.value)return;const{offsetHeight:t}=o.value;if(t){const l=`${t}px`;a.value.style.height=e?"0":l,B((()=>{a.value&&(a.value.style.height=e?l:"0")}))}else g()}))}));const V=(e=!b.value)=>{i.toggle(u.value,e)},h=()=>{e.disabled||e.readonly||V()},j=()=>{const{border:a,disabled:o,readonly:i}=e,s=l(e,Object.keys(S));return i&&(s.isLink=!1),(o||i)&&(s.clickable=!1),d(k,m({role:"button",class:H("title",{disabled:o,expanded:b.value,borderless:!a}),"aria-expanded":String(b.value),onClick:h},s),l(t,I))},y=_((()=>{var e;return v(d("div",{ref:a,class:H("wrapper"),onTransitionend:g},[d("div",{ref:o,class:H("content")},[null==(e=t.default)?void 0:e.call(t)])]),[[p,x.value]])}));return U({toggle:V}),()=>d("div",{class:[H({border:s.value&&e.border})]},[j(),y()])}}));const O=u({setup(e){const t=a({"zh-CN":{accordion:"手风琴",titleSlot:"自定义标题内容",text:"代码是写出来给人看的，附带能在机器上运行"},"en-US":{accordion:"Accordion",titleSlot:"Custom title",text:"Content"}}),l=r([0]),o=r(0),i=r([]),s=r([]);return(e,a)=>{const u=b("demo-block");return x(),_(y,null,[d(u,{title:V(t)("basicUsage")},{default:g((()=>[d(V(D),{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e)},{default:g((()=>[d(V(J),{title:V(t)("title")+1},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),d(V(J),{title:V(t)("title")+2},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),d(V(J),{title:V(t)("title")+3},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),d(u,{title:V(t)("accordion")},{default:g((()=>[d(V(D),{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e),accordion:""},{default:g((()=>[d(V(J),{title:V(t)("title")+1},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),d(V(J),{title:V(t)("title")+2},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),d(V(J),{title:V(t)("title")+3},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),d(u,{title:V(t)("disabled")},{default:g((()=>[d(V(D),{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=e=>i.value=e)},{default:g((()=>[d(V(J),{title:V(t)("title")+1},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),d(V(J),{title:V(t)("title")+2,disabled:""},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"]),d(V(J),{title:V(t)("title")+3,disabled:""},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),d(u,{title:V(t)("titleSlot")},{default:g((()=>[d(V(D),{modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=e=>s.value=e)},{default:g((()=>[d(V(J),null,{title:g((()=>[h(j(V(t)("title")+1),1),d(V(N),{name:"question-o"})])),default:g((()=>[h(" "+j(V(t)("text")),1)])),_:1}),d(V(J),{title:V(t)("title")+2,value:V(t)("content"),icon:"shop-o"},{default:g((()=>[h(j(V(t)("text")),1)])),_:1},8,["title","value"])])),_:1},8,["modelValue"])])),_:1},8,["title"])],64)}}});export{O as default};
