import{c as j,t as S,e as I,n as N,r as w,a as U}from"./use-translate.39547e32.js";import{w as T}from"./with-install.cc9696bc.js";import{d as z}from"./constant.4d85ecb9.js";import{z as y,e as a,D as v,C as A,x as $,I as q,q as H,k as K,v as M,r as Y,o as G,a as J,w as o,B as e,h as d,t as r,F as Q}from"./vue-libs.71fdcafc.js";import{u as W}from"./useChildren.edf9a3d1.js";import{c as F,C as X}from"./index.f7946dd6.js";import{u as Z}from"./use-expose.877c018b.js";import{u as ee}from"./use-lazy-render.3dcfda58.js";import{u as te}from"./useParent.e4fd6deb.js";import{d as le,r as ae}from"./utils.39620306.js";import{I as oe}from"./index.5e447543.js";import"./use-route.913efdd2.js";const[L,ie]=j("collapse"),P=Symbol(L);var ne=y({name:L,props:{border:S,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}},emits:["change","update:modelValue"],setup(c,{emit:t,slots:i}){const{linkChildren:p}=W(P),m=l=>{t("change",l),t("update:modelValue",l)};return p({toggle:(l,s)=>{const{accordion:n,modelValue:_}=c;m(n?l===_?"":l:s?_.concat(l):_.filter(g=>g!==l))},isExpanded:l=>{const{accordion:s,modelValue:n}=c;return s?n===l:n.includes(l)}}),()=>{var l;return a("div",{class:[ie(),{[z]:c.border}]},[(l=i.default)==null?void 0:l.call(i)])}}});const V=T(ne),[ue,h]=j("collapse-item"),se=["icon","title","value","label","right-icon"],de=I({},F,{name:N,isLink:S,disabled:Boolean,readonly:Boolean});var re=y({name:ue,props:de,setup(c,{slots:t}){const i=v(),p=v(),{parent:m,index:x}=te(P);if(!m)return;const C=A(()=>{var u;return(u=c.name)!=null?u:x.value}),l=A(()=>m.isExpanded(C.value)),s=v(l.value),n=ee(s),_=()=>{l.value?i.value&&(i.value.style.height=""):s.value=!1};$(l,(u,E)=>{if(E===null)return;u&&(s.value=!0),(u?H:ae)(()=>{if(!p.value||!i.value)return;const{offsetHeight:b}=p.value;if(b){const B=`${b}px`;i.value.style.height=u?"0":B,le(()=>{i.value&&(i.value.style.height=u?B:"0")})}else _()})});const g=(u=!l.value)=>{m.toggle(C.value,u)},D=()=>{!c.disabled&&!c.readonly&&g()},O=()=>{const{border:u,disabled:E,readonly:k}=c,b=w(c,Object.keys(F));return k&&(b.isLink=!1),(E||k)&&(b.clickable=!1),a(X,q({role:"button",class:h("title",{disabled:E,expanded:l.value,borderless:!u}),"aria-expanded":String(l.value),onClick:D},b),w(t,se))},R=n(()=>{var u;return K(a("div",{ref:i,class:h("wrapper"),onTransitionend:_},[a("div",{ref:p,class:h("content")},[(u=t.default)==null?void 0:u.call(t)])]),[[M,s.value]])});return Z({toggle:g}),()=>a("div",{class:[h({border:x.value&&c.border})]},[O(),R()])}});const f=T(re);const he=y({setup(c){const t=U({"zh-CN":{accordion:"\u624B\u98CE\u7434",titleSlot:"\u81EA\u5B9A\u4E49\u6807\u9898\u5185\u5BB9",text:"\u4EE3\u7801\u662F\u5199\u51FA\u6765\u7ED9\u4EBA\u770B\u7684\uFF0C\u9644\u5E26\u80FD\u5728\u673A\u5668\u4E0A\u8FD0\u884C"},"en-US":{accordion:"Accordion",titleSlot:"Custom title",text:"Content"}}),i=v([0]),p=v(0),m=v([]),x=v([]);return(C,l)=>{const s=Y("demo-block");return G(),J(Q,null,[a(s,{title:e(t)("basicUsage")},{default:o(()=>[a(e(V),{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=n=>i.value=n)},{default:o(()=>[a(e(f),{title:e(t)("title")+1},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+2},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+3},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),a(s,{title:e(t)("accordion")},{default:o(()=>[a(e(V),{modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=n=>p.value=n),accordion:""},{default:o(()=>[a(e(f),{title:e(t)("title")+1},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+2},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+3},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),a(s,{title:e(t)("disabled")},{default:o(()=>[a(e(V),{modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=n=>m.value=n)},{default:o(()=>[a(e(f),{title:e(t)("title")+1},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+2,disabled:""},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"]),a(e(f),{title:e(t)("title")+3,disabled:""},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),a(s,{title:e(t)("titleSlot")},{default:o(()=>[a(e(V),{modelValue:x.value,"onUpdate:modelValue":l[3]||(l[3]=n=>x.value=n)},{default:o(()=>[a(e(f),null,{title:o(()=>[d(r(e(t)("title")+1),1),a(e(oe),{name:"question-o"})]),default:o(()=>[d(" "+r(e(t)("text")),1)]),_:1}),a(e(f),{title:e(t)("title")+2,value:e(t)("content"),icon:"shop-o"},{default:o(()=>[d(r(e(t)("text")),1)]),_:1},8,["title","value"])]),_:1},8,["modelValue"])]),_:1},8,["title"])],64)}}});export{he as default};
