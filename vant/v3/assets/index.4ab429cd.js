import{F as e}from"./index.69c5a5bd.js";import{P as t}from"./index.b58615a3.js";import{c as l,t as a,e as o,a as s}from"./use-translate.91889477.js";import{w as n}from"./with-install.c9eedd0e.js";import{T as i,a as u}from"./index.c005411f.js";import{I as d}from"./index.d38d9435.js";import{z as r,E as c,x as p,e as h,A as m,q as v,C as x,r as b,o as f,a as w,w as j,B as g,F as V}from"./vue-libs.71fdcafc.js";import{d as y}from"./deep-clone.8c2eaed3.js";import"./constant.4d85ecb9.js";import"./index.5d323f2c.js";import"./use-route.913efdd2.js";import"./use-expose.5ea79906.js";import"./index.a16d08bc.js";import"./useParent.e4fd6deb.js";import"./interceptor.fd551ac3.js";import"./use-touch.30351383.js";import"./index.94f7437a.js";import"./utils.b0356070.js";import"./index.9e2e36ca.js";import"./use-lazy-render.3dcfda58.js";import"./on-popup-reopen.d7054786.js";import"./index.38991bce.js";import"./index.0a6905cd.js";import"./useChildren.edf9a3d1.js";import"./use-refs.6c094865.js";import"./index.2b3be213.js";import"./index.43faf238.js";function C(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!m(e)}const[O,A,U]=l("cascader");const k=n(r({name:O,props:{title:String,closeable:a,swipeable:a,modelValue:[Number,String],fieldNames:Object,placeholder:String,activeColor:String,options:{type:Array,default:()=>[]},closeIcon:{type:String,default:"cross"}},emits:["close","change","finish","update:modelValue","click-tab"],setup(e,{slots:t,emit:l}){const a=c({tabs:[],activeTab:0}),{text:s,value:n,children:r}=o({text:"text",value:"value",children:"children"},e.fieldNames),m=(e,t)=>{for(let l=0;l<e.length;l++){const a=e[l];if(a[n]===t)return[a];if(a[r]){const e=m(a[r],t);if(e)return[a,...e]}}},x=()=>{if(e.modelValue||0===e.modelValue){const t=m(e.options,e.modelValue);if(t){let l=e.options;return a.tabs=t.map((e=>{const t={options:l,selected:e},a=l.find((t=>t[n]===e[n]));return a&&(l=a[r]),t})),l&&a.tabs.push({options:l,selected:null}),void v((()=>{a.activeTab=a.tabs.length-1}))}}a.tabs=[{options:e.options,selected:null}]},b=()=>l("close"),f=({name:e,title:t})=>l("click-tab",e,t),w=(o,i,u)=>{const c=i&&o[n]===i[n],p=o.color||(c?e.activeColor:void 0),m=t.option?t.option({option:o,selected:c}):h("span",null,[o[s]]);return h("li",{class:[A("option",{selected:c,disabled:o.disabled}),o.className],style:{color:p},onClick:()=>((e,t)=>{if(e.disabled)return;if(a.tabs[t].selected=e,a.tabs.length>t+1&&(a.tabs=a.tabs.slice(0,t+1)),e[r]){const l={options:e[r],selected:null};a.tabs[t+1]?a.tabs[t+1]=l:a.tabs.push(l),v((()=>{a.activeTab++}))}const o=a.tabs.map((e=>e.selected)).filter(Boolean),s={value:e[n],tabIndex:t,selectedOptions:o};l("update:modelValue",e[n]),l("change",s),e[r]||l("finish",s)})(o,u)},[m,c?h(d,{name:"success",class:A("selected-icon")},null):null])},j=(t,l)=>{let a;const{options:o,selected:n}=t,i=n?n[s]:e.placeholder||U("select");return h(u,{title:i,titleClass:A("tab",{unselected:!n})},C(a=((e,t,l)=>h("ul",{class:A("options")},[e.map((e=>w(e,t,l)))]))(o,n,l))?a:{default:()=>[a]})},g=()=>{let t;return h(i,{active:a.activeTab,"onUpdate:active":e=>a.activeTab=e,animated:!0,class:A("tabs"),color:e.activeColor,swipeThreshold:0,swipeable:e.swipeable,"onClick-tab":f},C(t=a.tabs.map(j))?t:{default:()=>[t]})};return x(),p((()=>e.options),x,{deep:!0}),p((()=>e.modelValue),(e=>{if(e||0===e){if(a.tabs.map((e=>{var t;return null==(t=e.selected)?void 0:t[n]})).includes(e))return}x()})),()=>h("div",{class:A()},[h("div",{class:A("header")},[h("h2",{class:A("title")},[t.title?t.title():e.title]),e.closeable?h(d,{name:e.closeIcon,class:A("close-icon"),onClick:b},null):null]),g()])}}));var N=[{text:"浙江省",value:"330000",children:[{text:"杭州市",value:"330100",children:[{text:"上城区",value:"330102"},{text:"下城区",value:"330103"},{text:"江干区",value:"330104"}]},{text:"宁波市",value:"330200",children:[{text:"海曙区",value:"330203"},{text:"江北区",value:"330205"},{text:"北仑区",value:"330206"}]},{text:"温州市",value:"330300",children:[{text:"鹿城区",value:"330302"},{text:"龙湾区",value:"330303"},{text:"瓯海区",value:"330304"}]}]},{text:"江苏省",value:"320000",children:[{text:"南京市",value:"320100",children:[{text:"玄武区",value:"320102"},{text:"秦淮区",value:"320104"},{text:"建邺区",value:"320105"}]},{text:"无锡市",value:"320200",children:[{text:"锡山区",value:"320205"},{text:"惠山区",value:"320206"},{text:"滨湖区",value:"320211"}]},{text:"徐州市",value:"320300",children:[{text:"鼓楼区",value:"320302"},{text:"云龙区",value:"320303"},{text:"贾汪区",value:"320305"}]}]}],F=[{text:"Zhejiang",value:"330000",children:[{text:"Hangzhou",value:"330100",children:[{text:"Shangcheng",value:"330102"},{text:"Xiacheng",value:"330103"},{text:"Jianggan",value:"330104"}]},{text:"Ningbo",value:"330200",children:[{text:"Haishu",value:"330203"},{text:"Jiangbei",value:"330205"},{text:"Beilun",value:"330206"}]},{text:"Wenzhou",value:"330300",children:[{text:"Lucheng",value:"330302"},{text:"Longwan",value:"330303"},{text:"Ouhai",value:"330304"}]}]},{text:"Jiangsu",value:"320000",children:[{text:"Nanjing",value:"320100",children:[{text:"Xuanwu",value:"320102"},{text:"Qinghuai",value:"320104"},{text:"Jianye",value:"320105"}]},{text:"Wuxi",value:"320200",children:[{text:"Xishan",value:"320205"},{text:"Huishan",value:"320206"},{text:"Binhu",value:"320211"}]},{text:"Xuzhou",value:"320300",children:[{text:"Gulou",value:"320302"},{text:"Yunlong",value:"320303"},{text:"Jiawang",value:"320305"}]}]}];const S=r({setup(l){const a=s({"zh-CN":{area:"地区",options:N,selectArea:"请选择地区",customColor:"自定义颜色",asyncOptions:"异步加载选项",asyncOptions1:[{text:"浙江省",value:"330000",children:[]}],asyncOptions2:[{text:"杭州市",value:"330100"},{text:"宁波市",value:"330200"}],customFieldNames:"自定义字段名"},"en-US":{area:"Area",options:F,selectArea:"Select Area",customColor:"Custom Color",asyncOptions:"Async Options",asyncOptions1:[{text:"Zhejiang",value:"330000",children:[]}],asyncOptions2:[{text:"Hangzhou",value:"330100"},{text:"Ningbo",value:"330200"}],customFieldNames:"Custom Field Names"}}),o=c({show:!1,value:"",result:""}),n=c({show:!1,value:null,result:""}),i=c({show:!1,value:null,result:"",options:a("asyncOptions1")}),u=c({show:!1,value:null,result:""}),d={text:"name",value:"code",children:"items"},r=x((()=>{const e=y(a("options")),t=e=>{"text"in e&&(e.name=e.text,delete e.text),"value"in e&&(e.code=e.value,delete e.value),"children"in e&&(e.items=e.children,delete e.children,e.items.forEach(t))};return e.forEach(t),e})),p=({value:e})=>{"330000"===e&&setTimeout((()=>{i.options[0].children=a("asyncOptions2")}),500)},m=(e,{value:t,selectedOptions:l})=>{const a=l.map((e=>e.text||e.name)).join("/");e.show=!1,e.value=t,e.result=a};return(l,s)=>{const c=b("demo-block");return f(),w(V,null,[h(c,{card:"",title:g(a)("basicUsage")},{default:j((()=>[h(g(e),{modelValue:g(o).result,"onUpdate:modelValue":s[0]||(s[0]=e=>g(o).result=e),"is-link":"",readonly:"",label:g(a)("area"),placeholder:g(a)("selectArea"),onClick:s[1]||(s[1]=e=>g(o).show=!0)},null,8,["modelValue","label","placeholder"]),h(g(t),{show:g(o).show,"onUpdate:show":s[5]||(s[5]=e=>g(o).show=e),round:"",teleport:"body",position:"bottom"},{default:j((()=>[h(g(k),{modelValue:g(o).value,"onUpdate:modelValue":s[2]||(s[2]=e=>g(o).value=e),title:g(a)("selectArea"),options:g(a)("options"),onClose:s[3]||(s[3]=e=>g(o).show=!1),onFinish:s[4]||(s[4]=e=>m(g(o),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"]),h(c,{card:"",title:g(a)("customColor")},{default:j((()=>[h(g(e),{modelValue:g(n).result,"onUpdate:modelValue":s[6]||(s[6]=e=>g(n).result=e),"is-link":"",readonly:"",label:g(a)("area"),placeholder:g(a)("selectArea"),onClick:s[7]||(s[7]=e=>g(n).show=!0)},null,8,["modelValue","label","placeholder"]),h(g(t),{show:g(n).show,"onUpdate:show":s[11]||(s[11]=e=>g(n).show=e),round:"",teleport:"body",position:"bottom"},{default:j((()=>[h(g(k),{modelValue:g(n).value,"onUpdate:modelValue":s[8]||(s[8]=e=>g(n).value=e),title:g(a)("selectArea"),options:g(a)("options"),"active-color":"#1989fa",onClose:s[9]||(s[9]=e=>g(n).show=!1),onFinish:s[10]||(s[10]=e=>m(g(n),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"]),h(c,{card:"",title:g(a)("asyncOptions")},{default:j((()=>[h(g(e),{modelValue:g(i).result,"onUpdate:modelValue":s[12]||(s[12]=e=>g(i).result=e),"is-link":"",readonly:"",label:g(a)("area"),placeholder:g(a)("selectArea"),onClick:s[13]||(s[13]=e=>g(i).show=!0)},null,8,["modelValue","label","placeholder"]),h(g(t),{show:g(i).show,"onUpdate:show":s[17]||(s[17]=e=>g(i).show=e),round:"",teleport:"body",position:"bottom"},{default:j((()=>[h(g(k),{modelValue:g(i).value,"onUpdate:modelValue":s[14]||(s[14]=e=>g(i).value=e),title:g(a)("selectArea"),options:g(i).options,onClose:s[15]||(s[15]=e=>g(i).show=!1),onChange:p,onFinish:s[16]||(s[16]=e=>m(g(i),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"]),h(c,{card:"",title:g(a)("customFieldNames")},{default:j((()=>[h(g(e),{modelValue:g(u).result,"onUpdate:modelValue":s[18]||(s[18]=e=>g(u).result=e),"is-link":"",readonly:"",label:g(a)("area"),placeholder:g(a)("selectArea"),onClick:s[19]||(s[19]=e=>g(u).show=!0)},null,8,["modelValue","label","placeholder"]),h(g(t),{show:g(u).show,"onUpdate:show":s[23]||(s[23]=e=>g(u).show=e),round:"",teleport:"body",position:"bottom","safe-area-inset-bottom":""},{default:j((()=>[h(g(k),{modelValue:g(u).value,"onUpdate:modelValue":s[20]||(s[20]=e=>g(u).value=e),title:g(a)("selectArea"),options:g(r),"field-names":d,onClose:s[21]||(s[21]=e=>g(u).show=!1),onFinish:s[22]||(s[22]=e=>m(g(u),e))},null,8,["modelValue","title","options"])])),_:1},8,["show"])])),_:1},8,["title"])],64)}}});export{S as default};
