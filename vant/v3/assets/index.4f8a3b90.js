import{t as e,e as t,c as a,a as o}from"./use-translate.b583725c.js";import{c as l,w as n}from"./with-install.62f47d2f.js";import{d as i}from"./constant.4d85ecb9.js";import{c as s}from"./interceptor.ab1192d4.js";import{b as r}from"./unit.49c29796.js";import{u}from"./use-placeholder.5ec64b98.js";import{A as c,E as d,e as m,L as f,D as p,B as b,r as v,o as h,a as g,w as _,C as j,i as V,t as x,d as C,F as y}from"./vendor.ef334a89.js";import{u as B}from"./useChildren.a94b5b99.js";import{r as S,u as I}from"./use-route.3fda2186.js";import{B as N,I as U}from"./index.3af24151.js";import{u as $}from"./useParent.0a2f50cb.js";import{T as w}from"./function-call.b2678465.js";import"./use-height.8171f077.js";import"./index.90a1ecc4.js";import"./mount-component.4a14b4e1.js";import"./use-expose.33de0944.js";import"./index.aa2914ba.js";import"./use-touch.ce80657e.js";import"./event.7d40caae.js";import"./index.7e292110.js";import"./utils.b0356070.js";import"./index.253cf6b3.js";import"./use-lazy-render.49349a00.js";import"./on-popup-reopen.522dc00c.js";import"./index.0acb7aaf.js";import"./index.6fa13143.js";const[z,k]=l("tabbar"),A={route:Boolean,fixed:e,border:e,zIndex:[Number,String],placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:{type:[Number,String],default:0},safeAreaInsetBottom:{type:Boolean,default:null}},E=Symbol(z);const P=n(c({name:z,props:A,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const o=d(),{linkChildren:l}=B(E),n=u(o,k),c=()=>{var t;return null!=(t=e.safeAreaInsetBottom)?t:e.fixed},f=()=>{var t;const{fixed:l,zIndex:n,border:s}=e;return m("div",{ref:o,style:r(n),class:[k({fixed:l}),{[i]:s,"van-safe-area-bottom":c()}]},[null==(t=a.default)?void 0:t.call(a)])};return l({props:e,setActive:a=>{a!==e.modelValue&&s({interceptor:e.beforeChange,args:[a],done(){t("update:modelValue",a),t("change",a)}})}}),()=>e.fixed&&e.placeholder?n(f):f()}}));const[F,O]=l("tabbar-item");const D=n(c({name:F,props:t({},S,{dot:Boolean,icon:String,name:[Number,String],badge:[Number,String],iconPrefix:String}),emits:["click"],setup(e,{emit:t,slots:o}){const l=I(),n=f().proxy,{parent:i,index:s}=$(E);if(!i)return;const r=p((()=>{const{route:t,modelValue:o}=i.props;if(t&&"$route"in n){const{$route:t}=n,{to:o}=e,l=a(o)?o:{path:o},i="path"in l&&l.path===t.path,s="name"in l&&l.name===t.name;return i||s}return(e.name||s.value)===o})),u=a=>{var o;i.setActive(null!=(o=e.name)?o:s.value),t("click",a),l()};return()=>{var t;let a;const{dot:l,badge:n}=e,{activeColor:s,inactiveColor:c}=i.props,d=r.value?s:c;return m("div",{class:O({active:r.value}),style:{color:d},onClick:u},[m(N,{dot:l,content:n,class:O("icon")},(f=a=o.icon?o.icon({active:r.value}):e.icon?m(U,{name:e.icon,classPrefix:e.iconPrefix},null):void 0,"function"==typeof f||"[object Object]"===Object.prototype.toString.call(f)&&!b(f)?a:{default:()=>[a]})),m("div",{class:O("text")},[null==(t=o.default)?void 0:t.call(o,{active:r.value})])]);var f}}}));const L=["src"],M=c({setup(e){const t=o({"zh-CN":{badge:"徽标提示",customIcon:"自定义图标",customColor:"自定义颜色",matchByName:"通过名称匹配",switchEvent:"监听切换事件"},"en-US":{badge:"Show Badge",customIcon:"Custom Icon",customColor:"Custom Color",matchByName:"Match by name",switchEvent:"Change Event"}}),a=d(0),l=d(0),n=d(0),i=d(0),s=d(0),r=d("home"),u="https://img.yzcdn.cn/vant/user-active.png",c="https://img.yzcdn.cn/vant/user-inactive.png",f=e=>{w(`${t("tab")} ${e+1}`)};return(e,o)=>{const d=v("demo-block");return h(),g(y,null,[m(d,{title:j(t)("basicUsage")},{default:_((()=>[m(j(P),{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e)},{default:_((()=>[m(j(D),{icon:"home-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"search"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"friends-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"setting-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(d,{title:j(t)("matchByName")},{default:_((()=>[m(j(P),{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=e=>r.value=e)},{default:_((()=>[m(j(D),{name:"home",icon:"home-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{name:"search",icon:"search"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{name:"friends",icon:"friends-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{name:"setting",icon:"setting-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(d,{title:j(t)("badge")},{default:_((()=>[m(j(P),{modelValue:l.value,"onUpdate:modelValue":o[2]||(o[2]=e=>l.value=e)},{default:_((()=>[m(j(D),{icon:"home-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"search",dot:""},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"friends-o",badge:"5"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"setting-o",badge:"20"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(d,{title:j(t)("customIcon")},{default:_((()=>[m(j(P),{modelValue:n.value,"onUpdate:modelValue":o[3]||(o[3]=e=>n.value=e)},{default:_((()=>[m(j(D),{badge:"3"},{icon:_((e=>[C("img",{src:e.active?u:c},null,8,L)])),default:_((()=>[C("span",null,x(j(t)("custom")),1)])),_:1}),m(j(D),{icon:"search"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"setting-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(d,{title:j(t)("customColor")},{default:_((()=>[m(j(P),{modelValue:i.value,"onUpdate:modelValue":o[4]||(o[4]=e=>i.value=e),"active-color":"#ee0a24","inactive-color":"#000"},{default:_((()=>[m(j(D),{icon:"home-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"search"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"friends-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1}),m(j(D),{icon:"setting-o"},{default:_((()=>[V(x(j(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(d,{title:j(t)("switchEvent")},{default:_((()=>[m(j(P),{modelValue:s.value,"onUpdate:modelValue":o[5]||(o[5]=e=>s.value=e),onChange:f},{default:_((()=>[m(j(D),{icon:"home-o"},{default:_((()=>[V(x(`${j(t)("tab")} 1`),1)])),_:1}),m(j(D),{icon:"search"},{default:_((()=>[V(x(`${j(t)("tab")} 2`),1)])),_:1}),m(j(D),{icon:"friends-o"},{default:_((()=>[V(x(`${j(t)("tab")} 3`),1)])),_:1}),m(j(D),{icon:"setting-o"},{default:_((()=>[V(x(`${j(t)("tab")} 4`),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"])],64)}}});export{M as default};
