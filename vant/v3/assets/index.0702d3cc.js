import{F}from"./index.f4f8e2bf.js";import{P as y}from"./index.87835e2a.js";import{c as P,e as $,u as H}from"./use-translate.dc7c72f2.js";import{c as J,t as k,m as X,n as K,w as L}from"./with-install.eb95b9ca.js";import{T as W,a as Z}from"./index.0c87b8cc.js";import{I as D}from"./index.c4602e68.js";import{z as B,E as j,x as T,e as n,A as q,q as N,C as G,r as Q,o as Y,a as I,w as C,B as e,F as M}from"./vue-libs.84090ae0.js";import{d as R}from"./deep-clone.a3611cb8.js";import"./constant.4d85ecb9.js";import"./index.e5928329.js";import"./use-route.c396a838.js";import"./use-expose.5b468dfd.js";import"./index.e89b0366.js";import"./useParent.b8372ce7.js";import"./interceptor.388efbea.js";import"./use-touch.89cea093.js";import"./index.5c401e78.js";import"./utils.39620306.js";import"./index.1b2e67e6.js";import"./use-lazy-render.98b46970.js";import"./on-popup-reopen.6401152e.js";import"./index.78843199.js";import"./index.816d5fea.js";import"./useChildren.adf766a6.js";import"./use-refs.af7a4653.js";import"./index.9d1c3513.js";function S(d){return typeof d=="function"||Object.prototype.toString.call(d)==="[object Object]"&&!q(d)}const[_,f,ee]=P("cascader");var te=B({name:_,props:{title:String,options:J(),closeable:k,swipeable:k,closeIcon:X("cross"),modelValue:K,fieldNames:Object,placeholder:String,activeColor:String},emits:["close","change","finish","update:modelValue","click-tab"],setup(d,{slots:u,emit:v}){const s=j({tabs:[],activeTab:0}),{text:x,value:c,children:h}=$({text:"text",value:"value",children:"children"},d.fieldNames),V=(o,a)=>{for(let p=0;p<o.length;p++){const r=o[p];if(r[c]===a)return[r];if(r[h]){const m=V(r[h],a);if(m)return[r,...m]}}},w=()=>{if(d.modelValue||d.modelValue===0){const o=V(d.options,d.modelValue);if(o){let a=d.options;s.tabs=o.map(p=>{const r={options:a,selected:p},m=a.find(A=>A[c]===p[c]);return m&&(a=m[h]),r}),a&&s.tabs.push({options:a,selected:null}),N(()=>{s.activeTab=s.tabs.length-1});return}}s.tabs=[{options:d.options,selected:null}]},E=(o,a)=>{if(o.disabled)return;if(s.tabs[a].selected=o,s.tabs.length>a+1&&(s.tabs=s.tabs.slice(0,a+1)),o[h]){const m={options:o[h],selected:null};s.tabs[a+1]?s.tabs[a+1]=m:s.tabs.push(m),N(()=>{s.activeTab++})}const p=s.tabs.map(m=>m.selected).filter(Boolean),r={value:o[c],tabIndex:a,selectedOptions:p};v("update:modelValue",o[c]),v("change",r),o[h]||v("finish",r)},b=()=>v("close"),t=({name:o,title:a})=>v("click-tab",o,a),i=()=>n("div",{class:f("header")},[n("h2",{class:f("title")},[u.title?u.title():d.title]),d.closeable?n(D,{name:d.closeIcon,class:f("close-icon"),onClick:b},null):null]),l=(o,a,p)=>{const r=a&&o[c]===a[c],m=o.color||(r?d.activeColor:void 0),A=u.option?u.option({option:o,selected:r}):n("span",null,[o[x]]);return n("li",{class:[f("option",{selected:r,disabled:o.disabled}),o.className],style:{color:m},onClick:()=>E(o,p)},[A,r?n(D,{name:"success",class:f("selected-icon")},null):null])},g=(o,a,p)=>n("ul",{class:f("options")},[o.map(r=>l(r,a,p))]),U=(o,a)=>{let p;const{options:r,selected:m}=o,A=m?m[x]:d.placeholder||ee("select");return n(Z,{title:A,titleClass:f("tab",{unselected:!m})},S(p=g(r,m,a))?p:{default:()=>[p]})},z=()=>{let o;return n(W,{active:s.activeTab,"onUpdate:active":a=>s.activeTab=a,animated:!0,class:f("tabs"),color:d.activeColor,swipeThreshold:0,swipeable:d.swipeable,"onClick-tab":t},S(o=s.tabs.map(U))?o:{default:()=>[o]})};return w(),T(()=>d.options,w,{deep:!0}),T(()=>d.modelValue,o=>{(o||o===0)&&s.tabs.map(p=>{var r;return(r=p.selected)==null?void 0:r[c]}).includes(o)||w()}),()=>n("div",{class:f()},[i(),z()])}});const O=L(te);var le=[{text:"\u6D59\u6C5F\u7701",value:"330000",children:[{text:"\u676D\u5DDE\u5E02",value:"330100",children:[{text:"\u4E0A\u57CE\u533A",value:"330102"},{text:"\u4E0B\u57CE\u533A",value:"330103"},{text:"\u6C5F\u5E72\u533A",value:"330104"}]},{text:"\u5B81\u6CE2\u5E02",value:"330200",children:[{text:"\u6D77\u66D9\u533A",value:"330203"},{text:"\u6C5F\u5317\u533A",value:"330205"},{text:"\u5317\u4ED1\u533A",value:"330206"}]},{text:"\u6E29\u5DDE\u5E02",value:"330300",children:[{text:"\u9E7F\u57CE\u533A",value:"330302"},{text:"\u9F99\u6E7E\u533A",value:"330303"},{text:"\u74EF\u6D77\u533A",value:"330304"}]}]},{text:"\u6C5F\u82CF\u7701",value:"320000",children:[{text:"\u5357\u4EAC\u5E02",value:"320100",children:[{text:"\u7384\u6B66\u533A",value:"320102"},{text:"\u79E6\u6DEE\u533A",value:"320104"},{text:"\u5EFA\u90BA\u533A",value:"320105"}]},{text:"\u65E0\u9521\u5E02",value:"320200",children:[{text:"\u9521\u5C71\u533A",value:"320205"},{text:"\u60E0\u5C71\u533A",value:"320206"},{text:"\u6EE8\u6E56\u533A",value:"320211"}]},{text:"\u5F90\u5DDE\u5E02",value:"320300",children:[{text:"\u9F13\u697C\u533A",value:"320302"},{text:"\u4E91\u9F99\u533A",value:"320303"},{text:"\u8D3E\u6C6A\u533A",value:"320305"}]}]}],oe=[{text:"Zhejiang",value:"330000",children:[{text:"Hangzhou",value:"330100",children:[{text:"Shangcheng",value:"330102"},{text:"Xiacheng",value:"330103"},{text:"Jianggan",value:"330104"}]},{text:"Ningbo",value:"330200",children:[{text:"Haishu",value:"330203"},{text:"Jiangbei",value:"330205"},{text:"Beilun",value:"330206"}]},{text:"Wenzhou",value:"330300",children:[{text:"Lucheng",value:"330302"},{text:"Longwan",value:"330303"},{text:"Ouhai",value:"330304"}]}]},{text:"Jiangsu",value:"320000",children:[{text:"Nanjing",value:"320100",children:[{text:"Xuanwu",value:"320102"},{text:"Qinghuai",value:"320104"},{text:"Jianye",value:"320105"}]},{text:"Wuxi",value:"320200",children:[{text:"Xishan",value:"320205"},{text:"Huishan",value:"320206"},{text:"Binhu",value:"320211"}]},{text:"Xuzhou",value:"320300",children:[{text:"Gulou",value:"320302"},{text:"Yunlong",value:"320303"},{text:"Jiawang",value:"320305"}]}]}];const De=B({setup(d){const u=H({"zh-CN":{area:"\u5730\u533A",options:le,selectArea:"\u8BF7\u9009\u62E9\u5730\u533A",customColor:"\u81EA\u5B9A\u4E49\u989C\u8272",asyncOptions:"\u5F02\u6B65\u52A0\u8F7D\u9009\u9879",asyncOptions1:[{text:"\u6D59\u6C5F\u7701",value:"330000",children:[]}],asyncOptions2:[{text:"\u676D\u5DDE\u5E02",value:"330100"},{text:"\u5B81\u6CE2\u5E02",value:"330200"}],customFieldNames:"\u81EA\u5B9A\u4E49\u5B57\u6BB5\u540D"},"en-US":{area:"Area",options:oe,selectArea:"Select Area",customColor:"Custom Color",asyncOptions:"Async Options",asyncOptions1:[{text:"Zhejiang",value:"330000",children:[]}],asyncOptions2:[{text:"Hangzhou",value:"330100"},{text:"Ningbo",value:"330200"}],customFieldNames:"Custom Field Names"}}),v=j({show:!1,value:"",result:""}),s=j({show:!1,value:null,result:""}),x=j({show:!1,value:null,result:"",options:u("asyncOptions1")}),c=j({show:!1,value:null,result:""}),h={text:"name",value:"code",children:"items"},V=G(()=>{const b=R(u("options")),t=i=>{"text"in i&&(i.name=i.text,delete i.text),"value"in i&&(i.code=i.value,delete i.value),"children"in i&&(i.items=i.children,delete i.children,i.items.forEach(t))};return b.forEach(t),b}),w=({value:b})=>{b==="330000"&&setTimeout(()=>{x.options[0].children=u("asyncOptions2")},500)},E=(b,{value:t,selectedOptions:i})=>{const l=i.map(g=>g.text||g.name).join("/");b.show=!1,b.value=t,b.result=l};return(b,t)=>{const i=Q("demo-block");return Y(),I(M,null,[n(i,{card:"",title:e(u)("basicUsage")},{default:C(()=>[n(e(F),{modelValue:e(v).result,"onUpdate:modelValue":t[0]||(t[0]=l=>e(v).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[1]||(t[1]=l=>e(v).show=!0)},null,8,["modelValue","label","placeholder"]),n(e(y),{show:e(v).show,"onUpdate:show":t[5]||(t[5]=l=>e(v).show=l),round:"",teleport:"body",position:"bottom"},{default:C(()=>[n(e(O),{modelValue:e(v).value,"onUpdate:modelValue":t[2]||(t[2]=l=>e(v).value=l),title:e(u)("selectArea"),options:e(u)("options"),onClose:t[3]||(t[3]=l=>e(v).show=!1),onFinish:t[4]||(t[4]=l=>E(e(v),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"]),n(i,{card:"",title:e(u)("customColor")},{default:C(()=>[n(e(F),{modelValue:e(s).result,"onUpdate:modelValue":t[6]||(t[6]=l=>e(s).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[7]||(t[7]=l=>e(s).show=!0)},null,8,["modelValue","label","placeholder"]),n(e(y),{show:e(s).show,"onUpdate:show":t[11]||(t[11]=l=>e(s).show=l),round:"",teleport:"body",position:"bottom"},{default:C(()=>[n(e(O),{modelValue:e(s).value,"onUpdate:modelValue":t[8]||(t[8]=l=>e(s).value=l),title:e(u)("selectArea"),options:e(u)("options"),"active-color":"#1989fa",onClose:t[9]||(t[9]=l=>e(s).show=!1),onFinish:t[10]||(t[10]=l=>E(e(s),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"]),n(i,{card:"",title:e(u)("asyncOptions")},{default:C(()=>[n(e(F),{modelValue:e(x).result,"onUpdate:modelValue":t[12]||(t[12]=l=>e(x).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[13]||(t[13]=l=>e(x).show=!0)},null,8,["modelValue","label","placeholder"]),n(e(y),{show:e(x).show,"onUpdate:show":t[17]||(t[17]=l=>e(x).show=l),round:"",teleport:"body",position:"bottom"},{default:C(()=>[n(e(O),{modelValue:e(x).value,"onUpdate:modelValue":t[14]||(t[14]=l=>e(x).value=l),title:e(u)("selectArea"),options:e(x).options,onClose:t[15]||(t[15]=l=>e(x).show=!1),onChange:w,onFinish:t[16]||(t[16]=l=>E(e(x),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"]),n(i,{card:"",title:e(u)("customFieldNames")},{default:C(()=>[n(e(F),{modelValue:e(c).result,"onUpdate:modelValue":t[18]||(t[18]=l=>e(c).result=l),"is-link":"",readonly:"",label:e(u)("area"),placeholder:e(u)("selectArea"),onClick:t[19]||(t[19]=l=>e(c).show=!0)},null,8,["modelValue","label","placeholder"]),n(e(y),{show:e(c).show,"onUpdate:show":t[23]||(t[23]=l=>e(c).show=l),round:"",teleport:"body",position:"bottom","safe-area-inset-bottom":""},{default:C(()=>[n(e(O),{modelValue:e(c).value,"onUpdate:modelValue":t[20]||(t[20]=l=>e(c).value=l),title:e(u)("selectArea"),options:e(V),"field-names":h,onClose:t[21]||(t[21]=l=>e(c).show=!1),onFinish:t[22]||(t[22]=l=>E(e(c),l))},null,8,["modelValue","title","options"])]),_:1},8,["show"])]),_:1},8,["title"])],64)}}});export{De as default};
