import{t as e,a as t}from"./use-translate.b583725c.js";import{c as o,w as s}from"./with-install.62f47d2f.js";import{B as a,a as u}from"./constant.4d85ecb9.js";import{a as l}from"./unit.49c29796.js";import{A as n,e as r,E as i,y as f,r as c,o as v,a as d,w as m,C as g,F as h}from"./vendor.ef334a89.js";import{N as p}from"./index.0c354098.js";import"./event.7d40caae.js";import"./use-touch.ce80657e.js";import"./index.6fa13143.js";import"./index.e65d868e.js";import"./utils.b0356070.js";import"./index.7e292110.js";const[w,I]=o("password-input");const b=s(n({name:w,props:{info:String,mask:e,gutter:[Number,String],focused:Boolean,errorInfo:String,value:{type:String,default:""},length:{type:[Number,String],default:6}},emits:["focus"],setup(e,{emit:t}){const o=e=>{e.stopPropagation(),t("focus",e)},s=()=>{const t=[],{mask:o,value:s,length:a,gutter:n,focused:i}=e;for(let e=0;e<a;e++){const a=s[e],f=0!==e&&!n,c=i&&e===s.length;let v;0!==e&&n&&(v={marginLeft:l(n)}),t.push(r("li",{class:[{[u]:f},I("item",{focus:c})],style:v},[o?r("i",{style:{visibility:a?"visible":"hidden"}},null):a,c&&r("div",{class:I("cursor")},null)]))}return t};return()=>{const t=e.errorInfo||e.info;return r("div",{class:I()},[r("ul",{class:[I("security"),{[a]:!e.gutter}],onTouchstart:o},[s()]),t&&r("div",{class:I(e.errorInfo?"error-info":"info")},[t])])}}}));const k=n({setup(e){const o=t({"zh-CN":{info:"密码为 6 位数字",showInfo:"提示信息",addGutter:"格子间距",errorInfo:"密码错误",removeMask:"明文展示",customLength:"自定义长度"},"en-US":{info:"Some tips",showInfo:"Show Info",addGutter:"Add Gutter",errorInfo:"Password Mistake",removeMask:"Remove Mask",customLength:"Custom Length"}}),s=i({showInfo:"123",addGutter:"123",basicUsage:"123",removeMask:"123",customLength:"123"}),a=i("basicUsage"),u=i(""),l=i(),n=i(),w=i(),I=i(),k=i(),j={showInfo:l,addGutter:n,basicUsage:w,removeMask:I,customLength:k},L=e=>{if(!a.value)return;const t="customLength"===a.value?4:6,l=(s.value[a.value]+e).slice(0,t);s.value[a.value]=l,"showInfo"===a.value&&6===l.length&&"123456"!==l&&(u.value=o("errorInfo"))},M=()=>{a.value&&(s.value[a.value]=s.value[a.value].slice(0,s.value[a.value].length-1),"showInfo"===a.value&&(u.value=""))};return f(a,(e=>{if(e){const t=j[e].value;if(t){const{top:e}=t.$el.getBoundingClientRect();window.scrollTo(0,window.pageYOffset+e)}}})),(e,t)=>{const i=c("demo-block");return v(),d(h,null,[r(i,{ref:(e,t)=>{t.basicUsage=e,w.value=e},title:g(o)("basicUsage")},{default:m((()=>[r(g(b),{value:s.value.basicUsage,focused:"basicUsage"===a.value,onFocus:t[0]||(t[0]=e=>a.value="basicUsage")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.customLength=e,k.value=e},title:g(o)("customLength")},{default:m((()=>[r(g(b),{value:s.value.customLength,length:4,focused:"customLength"===a.value,onFocus:t[1]||(t[1]=e=>a.value="customLength")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.addGutter=e,n.value=e},title:g(o)("addGutter")},{default:m((()=>[r(g(b),{value:s.value.addGutter,gutter:10,focused:"addGutter"===a.value,onFocus:t[2]||(t[2]=e=>a.value="addGutter")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.removeMask=e,I.value=e},title:g(o)("removeMask")},{default:m((()=>[r(g(b),{mask:!1,value:s.value.removeMask,focused:"removeMask"===a.value,onFocus:t[3]||(t[3]=e=>a.value="removeMask")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.showInfo=e,l.value=e},title:g(o)("showInfo")},{default:m((()=>[r(g(b),{info:g(o)("info"),value:s.value.showInfo,"error-info":u.value,focused:"showInfo"===a.value,onFocus:t[4]||(t[4]=e=>a.value="showInfo")},null,8,["info","value","error-info","focused"])])),_:1},8,["title"]),r(g(p),{show:!!a.value,onBlur:t[5]||(t[5]=e=>a.value=null),onInput:L,onDelete:M},null,8,["show"])],64)}}});export{k as default};
