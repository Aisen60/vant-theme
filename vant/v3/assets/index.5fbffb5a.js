import{c as U,i as W,s as I,n as F,p as L,C as M,a as O}from"./use-translate.e667ce10.js";import{w as V}from"./with-install.feb19484.js";import{c as X}from"./interceptor.b759bdc5.js";import{u as $}from"./use-touch.b0c07ae6.js";import{u as G}from"./use-expose.9b0dd301.js";import{z as P,D as x,E as J,C as q,e as s,r as K,o as Q,a as Y,w as r,B as t,F as Z}from"./vue-libs.1dda7261.js";import{u as ee}from"./index.eddf1708.js";import{u as te}from"./index.2a9a1046.js";import{B as p}from"./index.d91601ec.js";import{C as R}from"./index.5a14a991.js";import{C as oe}from"./index.be27a6cc.js";import{D as se}from"./function-call.87b8fe0f.js";import"./utils.39620306.js";import"./index.904c4b4d.js";import"./constant.4d85ecb9.js";import"./use-route.dfb37f70.js";import"./index.472ff4df.js";import"./index.ae867a8e.js";import"./index.3b581d78.js";import"./index.b7f6e1af.js";import"./mount-component.553013ae.js";import"./index.13873f42.js";import"./index.0749451f.js";import"./use-lazy-render.e44d61c0.js";import"./on-popup-reopen.1b0dc8ad.js";import"./index.57f9d610.js";import"./index.bc27da8f.js";import"./useChildren.ed284d59.js";import"./useParent.5e3d1dfb.js";const[le,j]=U("swipe-cell"),ne={name:I(""),disabled:Boolean,leftWidth:F,rightWidth:F,beforeClose:Function,stopPropagation:Boolean};var ae=P({name:le,props:ne,emits:["open","close","click"],setup(l,{emit:o,slots:u}){let i,d,f;const m=x(),_=x(),y=x(),n=J({offset:0,dragging:!1}),g=$(),w=e=>e.value?ee(e).width:0,h=q(()=>W(l.leftWidth)?+l.leftWidth:w(_)),C=q(()=>W(l.rightWidth)?+l.rightWidth:w(y)),T=e=>{i=!0,n.offset=e==="left"?h.value:-C.value,o("open",{name:l.name,position:e})},b=e=>{n.offset=0,i&&(i=!1,o("close",{name:l.name,position:e}))},z=e=>{const a=Math.abs(n.offset),c=.15,H=i?1-c:c,S=e==="left"?h.value:C.value;S&&a>S*H?T(e):b(e)},A=e=>{l.disabled||(f=n.offset,g.start(e))},N=e=>{if(l.disabled)return;const{deltaX:a}=g;g.move(e),g.isHorizontal()&&(d=!0,n.dragging=!0,(!i||a.value*f<0)&&L(e,l.stopPropagation),n.offset=M(a.value+f,-C.value,h.value))},k=()=>{n.dragging&&(n.dragging=!1,z(n.offset>0?"left":"right"),setTimeout(()=>{d=!1},0))},B=(e="outside")=>{o("click",e),i&&!d&&X({interceptor:l.beforeClose,args:[{name:l.name,position:e}],done:()=>b(e)})},E=(e,a)=>c=>{a&&c.stopPropagation(),B(e)},D=(e,a)=>{const c=u[e];if(c)return s("div",{ref:a,class:j(e),onClick:E(e,!0)},[c()])};return G({open:T,close:b}),te(m,()=>B("outside"),{eventName:"touchstart"}),()=>{var a;const e={transform:`translate3d(${n.offset}px, 0, 0)`,transitionDuration:n.dragging?"0s":".6s"};return s("div",{ref:m,class:j(),onClick:E("cell"),onTouchstart:A,onTouchmove:N,onTouchend:k,onTouchcancel:k},[s("div",{class:j("wrapper"),style:e},[D("left",_),(a=u.default)==null?void 0:a.call(u),D("right",y)])])}}});const v=V(ae);const ze=P({setup(l){const o=O({"zh-CN":{select:"\u9009\u62E9",delete:"\u5220\u9664",collect:"\u6536\u85CF",title:"\u5355\u5143\u683C",confirm:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",cardTitle:"\u5546\u54C1\u6807\u9898",beforeClose:"\u5F02\u6B65\u5173\u95ED",customContent:"\u81EA\u5B9A\u4E49\u5185\u5BB9"},"en-US":{select:"Select",delete:"Delete",collect:"Collect",title:"Cell",confirm:"Are you sure to delete?",cardTitle:"Title",beforeClose:"Before Close",customContent:"Custom Content"}}),u="https://img.yzcdn.cn/vant/ipad.jpeg",i=({position:d})=>{switch(d){case"left":case"cell":case"outside":return!0;case"right":return new Promise(f=>{se.confirm({title:o("confirm")}).then(f)})}};return(d,f)=>{const m=K("demo-block");return Q(),Y(Z,null,[s(m,{title:t(o)("basicUsage")},{default:r(()=>[s(t(v),null,{left:r(()=>[s(t(p),{square:"",type:"primary",text:t(o)("select")},null,8,["text"])]),right:r(()=>[s(t(p),{square:"",type:"danger",text:t(o)("delete")},null,8,["text"]),s(t(p),{square:"",type:"primary",text:t(o)("collect")},null,8,["text"])]),default:r(()=>[s(t(R),{border:!1,title:t(o)("title"),value:t(o)("content")},null,8,["title","value"])]),_:1})]),_:1},8,["title"]),s(m,{title:t(o)("customContent")},{default:r(()=>[s(t(v),null,{right:r(()=>[s(t(p),{square:"",type:"danger",class:"delete-button",text:t(o)("delete")},null,8,["text"])]),default:r(()=>[s(t(oe),{num:"2",price:"2.00",desc:t(o)("desc"),title:t(o)("cardTitle"),thumb:u},null,8,["desc","title"])]),_:1})]),_:1},8,["title"]),s(m,{title:t(o)("beforeClose")},{default:r(()=>[s(t(v),{"before-close":i},{left:r(()=>[s(t(p),{square:"",type:"primary",text:t(o)("select")},null,8,["text"])]),right:r(()=>[s(t(p),{square:"",type:"danger",text:t(o)("delete")},null,8,["text"])]),default:r(()=>[s(t(R),{border:!1,title:t(o)("title"),value:t(o)("content")},null,8,["title","value"])]),_:1})]),_:1},8,["title"])],64)}}});export{ze as default};
