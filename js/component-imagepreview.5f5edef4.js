(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["component-imagepreview"],{2512:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var o=n("7a23"),i=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("4de4"),n("159b"),n("20db")),r=n("dca7d"),a=n("ade3"),c=n("3835"),u=(n("a9e3"),0);function l(e){e?(u||document.body.classList.add("van-toast--unclickable"),u++):u&&(u--,u||document.body.classList.remove("van-toast--unclickable"))}var s=n("16b5"),f=n("98d9"),v=n("7b90"),b=Object(i["c"])("toast"),d=Object(c["a"])(b,2),g=d[0],O=d[1],p=Object(o["o"])({name:g,props:{icon:String,show:Boolean,overlay:Boolean,message:[Number,String],iconSize:[Number,String],className:i["s"],iconPrefix:String,loadingType:String,forbidClick:Boolean,overlayClass:i["s"],overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,type:{type:String,default:"text"},duration:{type:Number,default:2e3},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"}},emits:["update:show"],setup:function(e,t){var n,r=t.emit,c=!1,u=function(){var t=e.show&&e.forbidClick;c!==t&&(c=t,l(c))},b=function(e){return r("update:show",e)},d=function(){e.closeOnClick&&b(!1)},g=function(){clearTimeout(n)},p=function(){var t=e.icon,n=e.type,i=e.iconSize,r=e.iconPrefix,a=e.loadingType,c=t||"success"===n||"fail"===n;return c?Object(o["n"])(s["a"],{name:t||n,size:i,class:O("icon"),classPrefix:r},null):"loading"===n?Object(o["n"])(v["a"],{class:O("loading"),size:i,type:a},null):void 0},h=function(){var t=e.type,n=e.message;if(Object(i["h"])(n)&&""!==n)return"html"===t?Object(o["n"])("div",{class:O("text"),innerHTML:String(n)},null):Object(o["n"])("div",{class:O("text")},[n])};return Object(o["Y"])((function(){return[e.show,e.forbidClick]}),u),Object(o["Y"])((function(){return[e.show,e.type,e.message,e.duration]}),(function(){g(),e.show&&e.duration>0&&(n=setTimeout((function(){b(!1)}),e.duration))})),Object(o["E"])(u),Object(o["F"])(u),function(){return Object(o["n"])(f["a"],Object(o["v"])({show:e.show,class:[O([e.position,Object(a["a"])({},e.type,!e.icon)]),e.className],overlay:e.overlay,lockScroll:!1,transition:e.transition,overlayClass:e.overlayClass,overlayStyle:e.overlayStyle,closeOnClickOverlay:e.closeOnClickOverlay,onClick:d,onClosed:g},{"onUpdate:show":b}),{default:function(){return[p(),h()]}})}}}),h={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1},j=[],m=!1,w=Object(i["d"])({},h),y=new Map;function C(e){return Object(i["l"])(e)?e:{message:e}}function x(){var e=Object(r["a"])({setup:function(){var e=Object(o["N"])(""),i=Object(r["b"])(),a=i.open,c=i.state,u=i.close,l=i.toggle,s=function(){m&&(j=j.filter((function(e){return e!==t})),n())},f=function(){var t={onClosed:s,"onUpdate:show":l};return e.value&&(t.message=e.value),Object(o["n"])(p,Object(o["v"])(c,t),null)};return Object(o["p"])().render=f,{open:a,clear:u,message:e}}}),t=e.instance,n=e.unmount;return t}function S(){if(!j.length||m){var e=x();j.push(e)}return j[j.length-1]}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i["g"])return{};var t=S(),n=C(e);return t.open(Object(i["d"])({},w,y.get(n.type||w.type),n)),t}var k=function(e){return function(t){return z(Object(i["d"])({type:e},C(t)))}};function P(e,t){"string"===typeof e?y.set(e,t):Object(i["d"])(w,e)}z.loading=k("loading"),z.success=k("success"),z.fail=k("fail"),z.clear=function(e){j.length&&(e?(j.forEach((function(e){e.clear()})),j=[]):m?j.shift().clear():j[0].clear())},z.setDefaultOptions=P,z.resetDefaultOptions=function(e){"string"===typeof e?y.delete(e):(w=Object(i["d"])({},h),y.clear())},z.allowMultiple=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];m=e},z.install=function(e){e.use(Object(i["t"])(p)),e.config.globalProperties.$toast=z}},"4ec9":function(e,t,n){"use strict";var o=n("6d61"),i=n("6566");e.exports=o("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var o=n("ade3");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},6566:function(e,t,n){"use strict";var o=n("9bf2").f,i=n("7c73"),r=n("e2cc"),a=n("0366"),c=n("19aa"),u=n("2266"),l=n("7dd0"),s=n("2626"),f=n("83ab"),v=n("f183").fastKey,b=n("69f3"),d=b.set,g=b.getterFor;e.exports={getConstructor:function(e,t,n,l){var s=e((function(e,o){c(e,s,t),d(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=o&&u(o,e[l],{that:e,AS_ENTRIES:n})})),b=g(t),O=function(e,t,n){var o,i,r=b(e),a=p(e,t);return a?a.value=n:(r.last=a={index:i=v(t,!0),key:t,value:n,previous:o=r.last,next:void 0,removed:!1},r.first||(r.first=a),o&&(o.next=a),f?r.size++:e.size++,"F"!==i&&(r.index[i]=a)),e},p=function(e,t){var n,o=b(e),i=v(t);if("F"!==i)return o.index[i];for(n=o.first;n;n=n.next)if(n.key==t)return n};return r(s.prototype,{clear:function(){var e=this,t=b(e),n=t.index,o=t.first;while(o)o.removed=!0,o.previous&&(o.previous=o.previous.next=void 0),delete n[o.index],o=o.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=b(t),o=p(t,e);if(o){var i=o.next,r=o.previous;delete n.index[o.index],o.removed=!0,r&&(r.next=i),i&&(i.previous=r),n.first==o&&(n.first=i),n.last==o&&(n.last=r),f?n.size--:t.size--}return!!o},forEach:function(e){var t,n=b(this),o=a(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){o(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!p(this,e)}}),r(s.prototype,n?{get:function(e){var t=p(this,e);return t&&t.value},set:function(e,t){return O(this,0===e?0:e,t)}}:{add:function(e){return O(this,e=0===e?0:e,e)}}),f&&o(s.prototype,"size",{get:function(){return b(this).size}}),s},setStrong:function(e,t,n){var o=t+" Iterator",i=g(t),r=g(o);l(e,t,(function(e,t){d(this,{type:o,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=r(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),s(t)}}},"6d61":function(e,t,n){"use strict";var o=n("23e7"),i=n("da84"),r=n("94ca"),a=n("6eeb"),c=n("f183"),u=n("2266"),l=n("19aa"),s=n("861d"),f=n("d039"),v=n("1c7e"),b=n("d44e"),d=n("7156");e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),O=-1!==e.indexOf("Weak"),p=g?"set":"add",h=i[e],j=h&&h.prototype,m=h,w={},y=function(e){var t=j[e];a(j,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(O&&!s(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return O&&!s(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(O&&!s(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})},C=r(e,"function"!=typeof h||!(O||j.forEach&&!f((function(){(new h).entries().next()}))));if(C)m=n.getConstructor(t,e,g,p),c.enable();else if(r(e,!0)){var x=new m,S=x[p](O?{}:-0,1)!=x,z=f((function(){x.has(1)})),k=v((function(e){new h(e)})),P=!O&&f((function(){var e=new h,t=5;while(t--)e[p](t,t);return!e.has(-0)}));k||(m=t((function(t,n){l(t,m,e);var o=d(new h,t,m);return void 0!=n&&u(n,o[p],{that:o,AS_ENTRIES:g}),o})),m.prototype=j,j.constructor=m),(z||P)&&(y("delete"),y("has"),g&&y("get")),(P||S)&&y(p),O&&j.clear&&delete j.clear}return w[e]=m,o({global:!0,forced:m!=h},w),b(m,e),O||n.setStrong(m,e,g),m}},"73a4":function(e,t,n){"use strict";n.r(t);var o=n("7a23");function i(e,t,n,i,r,a){var c=Object(o["Q"])("van-cell"),u=Object(o["Q"])("demo-block"),l=Object(o["Q"])("van-image-preview");return Object(o["H"])(),Object(o["k"])(o["b"],null,[Object(o["n"])(u,{card:"",title:i.t("basicUsage")},{default:Object(o["ab"])((function(){return[Object(o["n"])(c,{"is-link":"",onClick:t[0]||(t[0]=function(e){return i.showImagePreview()})},{default:Object(o["ab"])((function(){return[Object(o["m"])(Object(o["T"])(i.t("showImages")),1)]})),_:1})]})),_:1},8,["title"]),Object(o["n"])(u,{card:"",title:i.t("customConfig")},{default:Object(o["ab"])((function(){return[Object(o["n"])(c,{"is-link":"",onClick:t[1]||(t[1]=function(e){return i.showImagePreview({startPosition:1})})},{default:Object(o["ab"])((function(){return[Object(o["m"])(Object(o["T"])(i.t("startPosition")),1)]})),_:1}),Object(o["n"])(c,{"is-link":"",onClick:t[2]||(t[2]=function(e){return i.showImagePreview({closeable:!0})})},{default:Object(o["ab"])((function(){return[Object(o["m"])(Object(o["T"])(i.t("showClose")),1)]})),_:1}),Object(o["n"])(c,{"is-link":"",onClick:t[3]||(t[3]=function(e){return i.showImagePreview({onClose:i.onClose})})},{default:Object(o["ab"])((function(){return[Object(o["m"])(Object(o["T"])(i.t("closeEvent")),1)]})),_:1})]})),_:1},8,["title"]),Object(o["n"])(u,{card:"",title:i.t("beforeClose")},{default:Object(o["ab"])((function(){return[Object(o["n"])(c,{"is-link":"",onClick:t[4]||(t[4]=function(e){return i.showImagePreview({beforeClose:i.beforeClose})})},{default:Object(o["ab"])((function(){return[Object(o["m"])(Object(o["T"])(i.t("beforeClose")),1)]})),_:1})]})),_:1},8,["title"]),Object(o["n"])(u,{card:"",title:i.t("componentCall")},{default:Object(o["ab"])((function(){return[Object(o["n"])(c,{"is-link":"",onClick:i.showComponentCall},{default:Object(o["ab"])((function(){return[Object(o["m"])(Object(o["T"])(i.t("componentCall")),1)]})),_:1},8,["onClick"]),Object(o["n"])(l,{show:e.show,"onUpdate:show":t[5]||(t[5]=function(t){return e.show=t}),images:i.images,onChange:i.onChange},{index:Object(o["ab"])((function(){return[Object(o["m"])(Object(o["T"])(i.t("index",e.index)),1)]})),_:1},8,["show","images","onChange"])]})),_:1},8,["title"])],64)}var r=n("5530"),a=(n("d3b7"),n("dee8")),c=n("20db"),u=n("dca7d"),l=n("3835"),s=(n("a9e3"),n("99af"),n("d81d"),n("9d06")),f=n("2eaa"),v=n("55a7"),b=n("16b5"),d=(n("a4d3"),n("e01a"),n("159b"),n("cb29"),n("a6cd")),g=n("22d1"),O=n("5dab"),p=n("c3fb"),h=n("6fff"),j=Object(c["c"])("swipe"),m=Object(l["a"])(j,2),w=m[0],y=m[1],C={loop:c["r"],width:[Number,String],height:[Number,String],vertical:Boolean,touchable:c["r"],lazyRender:Boolean,indicatorColor:String,showIndicators:c["r"],stopPropagation:c["r"],autoplay:{type:[Number,String],default:0},duration:{type:[Number,String],default:500},initialSwipe:{type:[Number,String],default:0}},x=Symbol(w),S=Object(o["o"])({name:w,props:C,emits:["change"],setup:function(e,t){var n,i,r=t.emit,a=t.slots,u=Object(o["N"])(),l=Object(o["L"])({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),s=Object(p["a"])(),b=Object(f["a"])(),j=Object(d["a"])(x),m=j.children,w=j.linkChildren,C=Object(o["g"])((function(){return m.length})),S=Object(o["g"])((function(){return l[e.vertical?"height":"width"]})),z=Object(o["g"])((function(){return e.vertical?s.deltaY.value:s.deltaX.value})),k=Object(o["g"])((function(){if(l.rect){var t=e.vertical?l.rect.height:l.rect.width;return t-S.value*C.value}return 0})),P=Object(o["g"])((function(){return Math.ceil(Math.abs(k.value)/S.value)})),N=Object(o["g"])((function(){return C.value*S.value})),I=Object(o["g"])((function(){return(l.active+C.value)%C.value})),T=Object(o["g"])((function(){var t=e.vertical?"vertical":"horizontal";return s.direction.value===t})),Y=Object(o["g"])((function(){var t={transitionDuration:"".concat(l.swiping?0:e.duration,"ms"),transform:"translate".concat(e.vertical?"Y":"X","(").concat(l.offset,"px)")};if(S.value){var n=e.vertical?"height":"width",o=e.vertical?"width":"height";t[n]="".concat(N.value,"px"),t[o]=e[o]?"".concat(e[o],"px"):""}return t})),E=function(t){var n=l.active;return t?e.loop?Object(c["b"])(n+t,-1,C.value):Object(c["b"])(n+t,0,P.value):n},D=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t*S.value;e.loop||(o=Math.min(o,-k.value));var i=n-o;return e.loop||(i=Object(c["b"])(i,k.value,0)),i},B=function(t){var n=t.pace,o=void 0===n?0:n,i=t.offset,a=void 0===i?0:i,c=t.emitChange;if(!(C.value<=1)){var u=l.active,s=E(o),f=D(s,a);if(e.loop){if(m[0]&&f!==k.value){var v=f<k.value;m[0].setOffset(v?N.value:0)}if(m[C.value-1]&&0!==f){var b=f>0;m[C.value-1].setOffset(b?-N.value:0)}}l.active=s,l.offset=f,c&&s!==u&&r("change",I.value)}},X=function(){l.swiping=!0,l.active<=-1?B({pace:C.value}):l.active>=C.value&&B({pace:-C.value})},M=function(){X(),s.reset(),Object(g["b"])((function(){l.swiping=!1,B({pace:-1,emitChange:!0})}))},L=function(){X(),s.reset(),Object(g["b"])((function(){l.swiping=!1,B({pace:1,emitChange:!0})}))},R=function(){return clearTimeout(n)},H=function t(){R(),e.autoplay>0&&C.value>1&&(n=setTimeout((function(){L(),t()}),+e.autoplay))},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+e.initialSwipe;if(u.value){if(!Object(c["j"])(u)){var n,o,i={width:u.value.offsetWidth,height:u.value.offsetHeight};l.rect=i,l.width=+(null!==(n=e.width)&&void 0!==n?n:i.width),l.height=+(null!==(o=e.height)&&void 0!==o?o:i.height)}C.value&&(t=Math.min(C.value-1,t)),l.active=t,l.swiping=!0,l.offset=D(t),m.forEach((function(e){e.setOffset(0)}))}},_=function(){return W(l.active)},Z=function(t){e.touchable&&(s.start(t),i=Date.now(),R(),X())},q=function(t){e.touchable&&l.swiping&&(s.move(t),T.value&&(Object(c["q"])(t,e.stopPropagation),B({offset:z.value})))},A=function(){if(e.touchable&&l.swiping){var t=Date.now()-i,n=z.value/t,o=Math.abs(n)>.25||Math.abs(z.value)>S.value/2;if(o&&T.value){var r=e.vertical?s.offsetY.value:s.offsetX.value,a=0;a=e.loop?r>0?z.value>0?-1:1:0:-Math[z.value>0?"ceil":"floor"](z.value/S.value),B({pace:a,emitChange:!0})}else z.value&&B({pace:0});l.swiping=!1,H()}},F=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};X(),s.reset(),Object(g["b"])((function(){var o;o=e.loop&&t===C.value?0===l.active?0:t:t%C.value,n.immediate?Object(g["b"])((function(){l.swiping=!1})):l.swiping=!1,B({pace:o-l.active,emitChange:!0})}))},U=function(t,n){var i=n===I.value,r=i?{backgroundColor:e.indicatorColor}:void 0;return Object(o["n"])("i",{style:r,class:y("indicator",{active:i})},null)},$=function(){return a.indicator?a.indicator({active:I.value}):e.showIndicators&&C.value>1?Object(o["n"])("div",{class:y("indicators",{vertical:e.vertical})},[Array(C.value).fill("").map(U)]):void 0};return Object(v["a"])({prev:M,next:L,state:l,resize:_,swipeTo:F}),w({size:S,props:e,count:C,activeIndicator:I}),Object(o["Y"])((function(){return e.initialSwipe}),(function(e){return W(+e)})),Object(o["Y"])(C,(function(){return W(l.active)})),Object(o["Y"])([C,function(){return e.autoplay}],H),Object(o["Y"])([b.width,b.height],_),Object(o["Y"])(Object(O["a"])(),(function(e){"visible"===e?H():R()})),Object(o["E"])(W),Object(o["z"])((function(){return W(l.active)})),Object(h["b"])((function(){return W(l.active)})),Object(o["D"])(R),Object(o["B"])(R),function(){var t;return Object(o["n"])("div",{ref:u,class:y()},[Object(o["n"])("div",{style:Y.value,class:y("track",{vertical:e.vertical}),onTouchstart:Z,onTouchmove:q,onTouchend:A,onTouchcancel:A},[null===(t=a.default)||void 0===t?void 0:t.call(a)]),$()])}}}),z=Object(c["t"])(S),k=n("98d9"),P=Object(c["c"])("image"),N=Object(l["a"])(P,2),I=N[0],T=N[1],Y=Object(o["o"])({name:I,props:{src:String,alt:String,fit:String,round:Boolean,width:[Number,String],height:[Number,String],radius:[Number,String],lazyLoad:Boolean,iconSize:[Number,String],showError:c["r"],iconPrefix:String,showLoading:c["r"],errorIcon:{type:String,default:"photo-fail"},loadingIcon:{type:String,default:"photo"}},emits:["load","error"],setup:function(e,t){var n=t.emit,i=t.slots,r=Object(o["N"])(!1),a=Object(o["N"])(!0),u=Object(o["N"])(),l=Object(o["p"])().proxy.$Lazyload,s=Object(o["g"])((function(){var t={};return Object(c["h"])(e.width)&&(t.width=Object(c["a"])(e.width)),Object(c["h"])(e.height)&&(t.height=Object(c["a"])(e.height)),Object(c["h"])(e.radius)&&(t.overflow="hidden",t.borderRadius=Object(c["a"])(e.radius)),t}));Object(o["Y"])((function(){return e.src}),(function(){r.value=!1,a.value=!0}));var f=function(e){a.value=!1,n("load",e)},v=function(e){r.value=!0,a.value=!1,n("error",e)},d=function(){return i.loading?i.loading():Object(o["n"])(b["a"],{size:e.iconSize,name:e.loadingIcon,class:T("loading-icon"),classPrefix:e.iconPrefix},null)},g=function(){return i.error?i.error():Object(o["n"])(b["a"],{size:e.iconSize,name:e.errorIcon,class:T("error-icon"),classPrefix:e.iconPrefix},null)},O=function(){return a.value&&e.showLoading?Object(o["n"])("div",{class:T("loading")},[d()]):r.value&&e.showError?Object(o["n"])("div",{class:T("error")},[g()]):void 0},p=function(){if(!r.value&&e.src){var t={alt:e.alt,class:T("img"),style:{objectFit:e.fit}};return e.lazyLoad?Object(o["bb"])(Object(o["n"])("img",Object(o["v"])({ref:u},t),null),[[Object(o["R"])("lazy"),e.src]]):Object(o["n"])("img",Object(o["v"])({src:e.src,onLoad:f,onError:v},t),null)}},h=function(e){var t=e.el;t===u.value&&a.value&&f()},j=function(e){var t=e.el;t!==u.value||r.value||v()};return l&&c["g"]&&(l.$on("loaded",h),l.$on("error",j),Object(o["B"])((function(){l.$off("loaded",h),l.$off("error",j)}))),function(){var t;return Object(o["n"])("div",{class:T({round:e.round}),style:s.value},[p(),O(),null===(t=i.default)||void 0===t?void 0:t.call(i)])}}}),E=Object(c["t"])(Y),D=n("7b90"),B=n("6ba6"),X=Object(c["c"])("swipe-item"),M=Object(l["a"])(X,2),L=M[0],R=M[1],H=Object(o["o"])({name:L,setup:function(e,t){var n,i=t.slots,r=Object(o["L"])({offset:0,inited:!1,mounted:!1}),a=Object(B["a"])(x),c=a.parent,u=a.index;if(c){var l=Object(o["g"])((function(){var e={},t=c.props.vertical;return c.size.value&&(e[t?"height":"width"]="".concat(c.size.value,"px")),r.offset&&(e.transform="translate".concat(t?"Y":"X","(").concat(r.offset,"px)")),e})),s=Object(o["g"])((function(){var e=c.props,t=e.loop,o=e.lazyRender;if(!o||n)return!0;if(!r.mounted)return!1;var i=c.activeIndicator.value,a=c.count.value-1,l=0===i&&t?a:i-1,s=i===a&&t?0:i+1;return n=u.value===i||u.value===l||u.value===s,n})),f=function(e){r.offset=e};return Object(o["E"])((function(){Object(o["w"])((function(){r.mounted=!0}))})),Object(v["a"])({setOffset:f}),function(){var e;return Object(o["n"])("div",{class:R(),style:l.value},[s.value?null===(e=i.default)||void 0===e?void 0:e.call(i):null])}}}}),W=Object(c["t"])(H);function _(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}var Z=Object(c["c"])("image-preview")[1],q=Object(o["o"])({props:{src:String,show:Boolean,active:Number,minZoom:{type:[Number,String],required:!0},maxZoom:{type:[Number,String],required:!0},rootWidth:{type:Number,required:!0},rootHeight:{type:Number,required:!0}},emits:["scale","close"],setup:function(e,t){var n,i,r,a,u,l,s=t.emit,f=Object(o["L"])({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),v=Object(p["a"])(),b=Object(o["g"])((function(){var t=e.rootWidth,n=e.rootHeight,o=n/t;return f.imageRatio>o})),d=Object(o["g"])((function(){var e=f.scale,t=f.moveX,n=f.moveY,o=f.moving,i=f.zooming,r={transitionDuration:i||o?"0s":".3s"};if(1!==e){var a=t/e,c=n/e;r.transform="scale(".concat(e,", ").concat(e,") translate(").concat(a,"px, ").concat(c,"px)")}return r})),g=Object(o["g"])((function(){if(f.imageRatio){var t=e.rootWidth,n=e.rootHeight,o=b.value?n/f.imageRatio:t;return Math.max(0,(f.scale*o-t)/2)}return 0})),O=Object(o["g"])((function(){if(f.imageRatio){var t=e.rootWidth,n=e.rootHeight,o=b.value?n:t*f.imageRatio;return Math.max(0,(f.scale*o-n)/2)}return 0})),h=function(t){t=Object(c["b"])(t,+e.minZoom,+e.maxZoom),t!==f.scale&&(f.scale=t,s("scale",{scale:t,index:e.active}))},j=function(){h(1),f.moveX=0,f.moveY=0},m=function(){var e=f.scale>1?1:2;h(e),f.moveX=0,f.moveY=0},w=function(e){var t=e.touches,o=v.offsetX;v.start(e),n=f.moveX,i=f.moveY,l=Date.now(),f.moving=1===t.length&&1!==f.scale,f.zooming=2===t.length&&!o.value,f.zooming&&(r=f.scale,a=_(e.touches))},y=function(e){var t=e.touches;if(v.move(e),(f.moving||f.zooming)&&Object(c["q"])(e,!0),f.moving){var o=v.deltaX,u=v.deltaY,l=o.value+n,s=u.value+i;f.moveX=Object(c["b"])(l,-g.value,g.value),f.moveY=Object(c["b"])(s,-O.value,O.value)}if(f.zooming&&2===t.length){var b=_(t),d=r*b/a;h(d)}},C=function(){var e=v.offsetX,t=v.offsetY,n=Date.now()-l,o=250,i=10;e.value<i&&t.value<i&&n<o&&(u?(clearTimeout(u),u=null,m()):u=setTimeout((function(){s("close"),u=null}),o))},x=function(e){var t=!1;(f.moving||f.zooming)&&(t=!0,f.moving&&n===f.moveX&&i===f.moveY&&(t=!1),e.touches.length||(f.zooming&&(f.moveX=Object(c["b"])(f.moveX,-g.value,g.value),f.moveY=Object(c["b"])(f.moveY,-O.value,O.value),f.zooming=!1),f.moving=!1,n=0,i=0,r=1,f.scale<1&&j())),Object(c["q"])(e,t),C(),v.reset()},S=function(e){var t=e.target,n=t.naturalWidth,o=t.naturalHeight;f.imageRatio=o/n};return Object(o["Y"])((function(){return e.active}),j),Object(o["Y"])((function(){return e.show}),(function(e){e||j()})),function(){var t={loading:function(){return Object(o["n"])(D["a"],{type:"spinner"},null)}};return Object(o["n"])(W,{class:Z("swipe-item"),onTouchstart:w,onTouchmove:y,onTouchend:x,onTouchcancel:x},{default:function(){return[Object(o["n"])(E,{src:e.src,fit:"contain",class:Z("image",{vertical:b.value}),style:d.value,onLoad:S},t)]}})}}});function A(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(o["t"])(e)}var F,U=Object(c["c"])("image-preview"),$=Object(l["a"])(U,2),Q=$[0],J=$[1],K=Object(o["o"])({name:Q,props:{show:Boolean,loop:c["r"],overlay:c["r"],closeable:Boolean,showIndex:c["r"],className:c["s"],transition:String,beforeClose:Function,overlayStyle:Object,showIndicators:Boolean,closeOnPopstate:c["r"],images:{type:Array,default:function(){return[]}},minZoom:{type:[Number,String],default:1/3},maxZoom:{type:[Number,String],default:3},swipeDuration:{type:[Number,String],default:300},startPosition:{type:[Number,String],default:0},closeIcon:{type:String,default:"clear"},closeIconPosition:{type:String,default:"top-right"}},emits:["scale","close","closed","change","update:show"],setup:function(e,t){var n=t.emit,i=t.slots,r=Object(o["N"])(),a=Object(f["a"])(),u=Object(o["L"])({active:0,rootWidth:0,rootHeight:0}),l=function(){if(r.value){var e=r.value.$el.getBoundingClientRect();u.rootWidth=e.width,u.rootHeight=e.height,r.value.resize()}},d=function(e){return n("scale",e)},g=function(e){return n("update:show",e)},O=function(){Object(s["a"])({interceptor:e.beforeClose,args:[u.active],done:function(){return g(!1)}})},p=function(e){e!==u.active&&(u.active=e,n("change",e))},h=function(){if(e.showIndex)return Object(o["n"])("div",{class:J("index")},[i.index?i.index({index:u.active}):"".concat(u.active+1," / ").concat(e.images.length)])},j=function(){if(i.cover)return Object(o["n"])("div",{class:J("cover")},[i.cover()])},m=function(){var t;return Object(o["n"])(z,{ref:r,lazyRender:!0,loop:e.loop,class:J("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:p},A(t=e.images.map((function(t){return Object(o["n"])(q,{src:t,show:e.show,active:u.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:u.rootWidth,rootHeight:u.rootHeight,onScale:d,onClose:O},null)})))?t:{default:function(){return[t]}})},w=function(){if(e.closeable)return Object(o["n"])(b["a"],{role:"button",name:e.closeIcon,class:J("close-icon",e.closeIconPosition),onClick:O},null)},y=function(){return n("closed")},C=function(e,t){var n;return null===(n=r.value)||void 0===n?void 0:n.swipeTo(e,t)};return Object(v["a"])({swipeTo:C}),Object(o["E"])(l),Object(o["Y"])([a.width,a.height],l),Object(o["Y"])((function(){return e.startPosition}),(function(e){return p(+e)})),Object(o["Y"])((function(){return e.show}),(function(t){var i=e.images,r=e.startPosition;t?(p(+r),Object(o["w"])((function(){l(),C(+r,{immediate:!0})}))):n("close",{index:u.active,url:i[u.active]})})),function(){return Object(o["n"])(k["a"],Object(o["v"])({class:[J(),e.className],overlayClass:J("overlay"),onClosed:y},Object(c["p"])(e,["show","transition","overlayStyle","closeOnPopstate"]),{"onUpdate:show":g}),{default:function(){return[w(),m(),h(),j()]}})}}}),V={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function G(){var e=Object(u["a"])({setup:function(){var e=Object(u["b"])(),t=e.state,n=e.toggle,i=function(){t.images=[]};return function(){return Object(o["n"])(K,Object(o["v"])(t,{onClosed:i,"onUpdate:show":n}),null)}}});F=e.instance}var ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(c["g"]){F||G();var n=Array.isArray(e)?{images:e,startPosition:t}:e;return F.open(Object(c["d"])({},V,n)),F}};ee.Component=Object(c["t"])(K),ee.install=function(e){e.use(Object(c["t"])(K))};var te=n("2512"),ne={"zh-CN":{closed:"关闭",showClose:"展示关闭按钮",showImages:"预览图片",beforeClose:"异步关闭",closeEvent:"监听关闭事件",customConfig:"传入配置项",startPosition:"指定初始位置",componentCall:"组件调用",index:function(e){return"第".concat(e+1,"页")}},"en-US":{closed:"closed",showClose:"Show Close Icon",showImages:"Show Images",beforeClose:"Before Close",closeEvent:"Close Event",customConfig:"Custom Config",startPosition:"Set Start Position",componentCall:"Component Call",index:function(e){return"Page: ".concat(e)}}},oe=["https://img.yzcdn.cn/vant/apple-1.jpg","https://img.yzcdn.cn/vant/apple-2.jpg","https://img.yzcdn.cn/vant/apple-3.jpg","https://img.yzcdn.cn/vant/apple-4.jpg"],ie={setup:function(){var e=Object(a["a"])(ne),t=Object(o["L"])({show:!1,index:0}),n=function(){return Object(te["a"])(e("closed"))},i=function(){return new Promise((function(e){setTimeout((function(){e(!0)}),1e3)}))},c=function(){t.show=!0},u=function(e){t.index=e},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ee(Object(r["a"])({images:oe},e));e.beforeClose&&setTimeout((function(){null===t||void 0===t||t.close()}),2e3)};return Object(r["a"])(Object(r["a"])({},Object(o["V"])(t)),{},{t:e,images:oe,onClose:n,onChange:u,beforeClose:i,showImagePreview:l,showComponentCall:c})}};ie.render=i;t["default"]=ie},"7b90":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n("20db"),i=n("3835"),r=n("7a23"),a=(n("d81d"),n("cb29"),n("a9e3"),Object(o["c"])("loading")),c=Object(i["a"])(a,2),u=c[0],l=c[1],s=Array(12).fill(null).map((function(e,t){return Object(r["n"])("i",{class:l("line",String(t+1))},null)})),f=Object(r["n"])("svg",{class:l("circular"),viewBox:"25 25 50 50"},[Object(r["n"])("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),v=Object(r["o"])({name:u,props:{size:[Number,String],color:String,vertical:Boolean,textSize:[Number,String],textColor:String,type:{type:String,default:"circular"}},setup:function(e,t){var n=t.slots,i=Object(r["g"])((function(){return Object(o["d"])({color:e.color},Object(o["e"])(e.size))})),a=function(){var t;if(n.default)return Object(r["n"])("span",{class:l("text"),style:{fontSize:Object(o["a"])(e.textSize),color:null!==(t=e.textColor)&&void 0!==t?t:e.color}},[n.default()])};return function(){var t=e.type,n=e.vertical;return Object(r["n"])("div",{class:l([t,{vertical:n}])},[Object(r["n"])("span",{class:l("spinner",t),style:i.value},["spinner"===t?s:f]),a()])}}}),b=Object(o["t"])(v)},"81d5":function(e,t,n){"use strict";var o=n("7b0b"),i=n("23cb"),r=n("50c4");e.exports=function(e){var t=o(this),n=r(t.length),a=arguments.length,c=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);while(l>c)t[c++]=e;return t}},bb2f:function(e,t,n){var o=n("d039");e.exports=!o((function(){return Object.isExtensible(Object.preventExtensions({}))}))},cb29:function(e,t,n){var o=n("23e7"),i=n("81d5"),r=n("44d2");o({target:"Array",proto:!0},{fill:i}),r("fill")},dbb4:function(e,t,n){var o=n("23e7"),i=n("83ab"),r=n("56ef"),a=n("fc6a"),c=n("06cf"),u=n("8418");o({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,o=a(e),i=c.f,l=r(o),s={},f=0;while(l.length>f)n=i(o,t=l[f++]),void 0!==n&&u(s,t,n);return s}})},e439:function(e,t,n){var o=n("23e7"),i=n("d039"),r=n("fc6a"),a=n("06cf").f,c=n("83ab"),u=i((function(){a(1)})),l=!c||u;o({target:"Object",stat:!0,forced:l,sham:!c},{getOwnPropertyDescriptor:function(e,t){return a(r(e),t)}})},f183:function(e,t,n){var o=n("23e7"),i=n("d012"),r=n("861d"),a=n("5135"),c=n("9bf2").f,u=n("241c"),l=n("057f"),s=n("90e3"),f=n("bb2f"),v=!1,b=s("meta"),d=0,g=Object.isExtensible||function(){return!0},O=function(e){c(e,b,{value:{objectID:"O"+d++,weakData:{}}})},p=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,b)){if(!g(e))return"F";if(!t)return"E";O(e)}return e[b].objectID},h=function(e,t){if(!a(e,b)){if(!g(e))return!0;if(!t)return!1;O(e)}return e[b].weakData},j=function(e){return f&&v&&g(e)&&!a(e,b)&&O(e),e},m=function(){w.enable=function(){},v=!0;var e=u.f,t=[].splice,n={};n[b]=1,e(n).length&&(u.f=function(n){for(var o=e(n),i=0,r=o.length;i<r;i++)if(o[i]===b){t.call(o,i,1);break}return o},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},w=e.exports={enable:m,fastKey:p,getWeakData:h,onFreeze:j};i[b]=!0}}]);
//# sourceMappingURL=component-imagepreview.5f5edef4.js.map