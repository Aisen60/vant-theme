import{t as e,e as t,p as l,a}from"./use-translate.bf1abf23.js";import{c as o,w as i}from"./with-install.af140ae3.js";import{d as s}from"./constant.4d85ecb9.js";import{B as d,f as u,G as r,E as n,z as c,L as f,l as m,v,s as p,r as b,a as x,w as _,D as g,F as V,o as h,i as j,t as y}from"./vendor.09b5b9a9.js";import{u as S}from"./useChildren.692bc2bf.js";import{c as k,C}from"./index.8591e547.js";import{u as U}from"./use-expose.028ef04d.js";import{u as w}from"./use-lazy-render.bae5ade9.js";import{u as B}from"./useParent.60a302fe.js";import{d as z,r as E}from"./utils.fd06bcd3.js";import{I as L}from"./index.5afcfd01.js";import"./use-route.bc60204d.js";import"./unit.36efb2dd.js";const[N,A]=o("collapse"),q=Symbol(N);const D=i(d({name:N,props:{border:e,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:l}){const{linkChildren:a}=S(q),o=e=>{t("change",e),t("update:modelValue",e)};return a({toggle:(t,l)=>{const{accordion:a,modelValue:i}=e;o(a?t===i?"":t:l?i.concat(t):i.filter((e=>e!==t)))},isExpanded:t=>{const{accordion:l,modelValue:a}=e;return l?a===t:a.includes(t)}}),()=>{var t;return u("div",{class:[A(),{[s]:e.border}]},[null==(t=l.default)?void 0:t.call(l)])}}})),[F,G]=o("collapse-item"),H=["icon","title","value","label","right-icon"];const I=i(d({name:F,props:t({},k,{name:[Number,String],isLink:e,disabled:Boolean,readonly:Boolean}),setup(e,{slots:t}){const a=r(),o=r(),{parent:i,index:s}=B(q);if(!i)return;const d=n((()=>{var t;return null!=(t=e.name)?t:s.value})),b=n((()=>i.isExpanded(d.value))),x=r(b.value),_=w(x),g=()=>{b.value?a.value&&(a.value.style.height=""):x.value=!1};c(b,((e,t)=>{if(null===t)return;e&&(x.value=!0);(e?p:E)((()=>{if(!o.value||!a.value)return;const{offsetHeight:t}=o.value;if(t){const l=`${t}px`;a.value.style.height=e?"0":l,z((()=>{a.value.style.height=e?l:"0"}))}else g()}))}));const V=(e=!b.value)=>{i.toggle(d.value,e)},h=()=>{e.disabled||e.readonly||V()},j=()=>{const{border:a,disabled:o,readonly:i}=e,s=l(e,Object.keys(k));return i&&(s.isLink=!1),(o||i)&&(s.clickable=!1),u(C,f({role:"button",class:G("title",{disabled:o,expanded:b.value,borderless:!a}),"aria-expanded":String(b.value),onClick:h},s),l(t,H))},y=_((()=>{var e;return m(u("div",{ref:a,class:G("wrapper"),onTransitionend:g},[u("div",{ref:o,class:G("content")},[null==(e=t.default)?void 0:e.call(t)])]),[[v,x.value]])}));return U({toggle:V}),()=>u("div",{class:[G({border:s.value&&e.border})]},[j(),y()])}}));var O=d({setup(e){const t=a({"zh-CN":{accordion:"手风琴",titleSlot:"自定义标题内容",text:"代码是写出来给人看的，附带能在机器上运行"},"en-US":{accordion:"Accordion",titleSlot:"Custom title",text:"Content"}}),l=r([0]),o=r(0),i=r([]),s=r([]);return(e,a)=>{const d=b("demo-block");return h(),x(V,null,[u(d,{title:g(t)("basicUsage")},{default:_((()=>[u(g(D),{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e)},{default:_((()=>[u(g(I),{title:g(t)("title")+1},{default:_((()=>[j(y(g(t)("text")),1)])),_:1},8,["title"]),u(g(I),{title:g(t)("title")+2},{default:_((()=>[j(y(g(t)("text")),1)])),_:1},8,["title"]),u(g(I),{title:g(t)("title")+3},{default:_((()=>[j(y(g(t)("text")),1)])),_:1},8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),u(d,{title:g(t)("accordion")},{default:_((()=>[u(g(D),{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e),accordion:""},{default:_((()=>[u(g(I),{title:g(t)("title")+1},{default:_((()=>[j(y(g(t)("text")),1)])),_:1},8,["title"]),u(g(I),{title:g(t)("title")+2},{default:_((()=>[j(y(g(t)("text")),1)])),_:1},8,["title"]),u(g(I),{title:g(t)("title")+3},{default:_((()=>[j(y(g(t)("text")),1)])),_:1},8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),u(d,{title:g(t)("disabled")},{default:_((()=>[u(g(D),{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=e=>i.value=e)},{default:_((()=>[u(g(I),{title:g(t)("title")+1},{default:_((()=>[j(y(g(t)("text")),1)])),_:1},8,["title"]),u(g(I),{title:g(t)("title")+2,disabled:""},{default:_((()=>[j(y(g(t)("text")),1)])),_:1},8,["title"]),u(g(I),{title:g(t)("title")+3,disabled:""},{default:_((()=>[j(y(g(t)("text")),1)])),_:1},8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),u(d,{title:g(t)("titleSlot")},{default:_((()=>[u(g(D),{modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=e=>s.value=e)},{default:_((()=>[u(g(I),null,{title:_((()=>[j(y(g(t)("title")+1),1),u(g(L),{name:"question-o"})])),default:_((()=>[j(" "+y(g(t)("text")),1)])),_:1}),u(g(I),{title:g(t)("title")+2,value:g(t)("content"),icon:"shop-o"},{default:_((()=>[j(y(g(t)("text")),1)])),_:1},8,["title","value"])])),_:1},8,["modelValue"])])),_:1},8,["title"])],64)}}});export{O as default};
