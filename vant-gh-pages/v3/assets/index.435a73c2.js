import{t as e,e as t,c as a,a as o}from"./use-translate.bf1abf23.js";import{c as l,w as n}from"./with-install.af140ae3.js";import{d as i}from"./constant.4d85ecb9.js";import{c as s}from"./interceptor.9b43abfe.js";import{b as r}from"./unit.36efb2dd.js";import{u}from"./use-placeholder.0b9f2e21.js";import{B as d,G as c,f as m,M as f,E as p,C as b,r as v,a as h,w as g,D as _,F as j,o as V,i as x,t as C,e as y}from"./vendor.09b5b9a9.js";import{u as B}from"./useChildren.692bc2bf.js";import{r as S,u as I}from"./use-route.bc60204d.js";import{B as N,I as U}from"./index.5afcfd01.js";import{u as $}from"./useParent.60a302fe.js";import{T as w}from"./function-call.2f25783d.js";import"./use-height.8492e0ff.js";import"./index.18e77546.js";import"./mount-component.14353bf5.js";import"./use-expose.028ef04d.js";import"./index.02c1c9ae.js";import"./use-touch.871001cd.js";import"./event.7d40caae.js";import"./index.2baefb73.js";import"./utils.fd06bcd3.js";import"./index.e4b17f1e.js";import"./use-lazy-render.bae5ade9.js";import"./on-popup-reopen.d2d6f1c6.js";import"./index.bb1b1d01.js";import"./index.4893bdc2.js";const[z,k]=l("tabbar"),E={route:Boolean,fixed:e,border:e,zIndex:[Number,String],placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:{type:[Number,String],default:0},safeAreaInsetBottom:{type:Boolean,default:null}},A=Symbol(z);const P=n(d({name:z,props:E,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const o=c(),{linkChildren:l}=B(A),n=u(o,k),d=()=>{var t;return null!=(t=e.safeAreaInsetBottom)?t:e.fixed},f=()=>{var t;const{fixed:l,zIndex:n,border:s}=e;return m("div",{ref:o,style:r(n),class:[k({fixed:l}),{[i]:s,"van-safe-area-bottom":d()}]},[null==(t=a.default)?void 0:t.call(a)])};return l({props:e,setActive:a=>{a!==e.modelValue&&s({interceptor:e.beforeChange,args:[a],done(){t("update:modelValue",a),t("change",a)}})}}),()=>e.fixed&&e.placeholder?n(f):f()}}));const[F,M]=l("tabbar-item");const O=n(d({name:F,props:t({},S,{dot:Boolean,icon:String,name:[Number,String],badge:[Number,String],iconPrefix:String}),emits:["click"],setup(e,{emit:t,slots:o}){const l=I(),n=f().proxy,{parent:i,index:s}=$(A);if(!i)return;const r=p((()=>{const{route:t,modelValue:o}=i.props;if(t&&"$route"in n){const{$route:t}=n,{to:o}=e,l=a(o)?o:{path:o},i="path"in l&&l.path===t.path,s="name"in l&&l.name===t.name;return i||s}return(e.name||s.value)===o})),u=a=>{var o;i.setActive(null!=(o=e.name)?o:s.value),t("click",a),l()};return()=>{var t;let a;const{dot:l,badge:n}=e,{activeColor:s,inactiveColor:d}=i.props,c=r.value?s:d;return m("div",{class:M({active:r.value}),style:{color:c},onClick:u},[m(N,{dot:l,content:n,class:M("icon")},(f=a=o.icon?o.icon({active:r.value}):e.icon?m(U,{name:e.icon,classPrefix:e.iconPrefix},null):void 0,"function"==typeof f||"[object Object]"===Object.prototype.toString.call(f)&&!b(f)?a:{default:()=>[a]})),m("div",{class:M("text")},[null==(t=o.default)?void 0:t.call(o,{active:r.value})])]);var f}}})),D=["src"];var G=d({setup(e){const t=o({"zh-CN":{badge:"徽标提示",customIcon:"自定义图标",customColor:"自定义颜色",matchByName:"通过名称匹配",switchEvent:"监听切换事件"},"en-US":{badge:"Show Badge",customIcon:"Custom Icon",customColor:"Custom Color",matchByName:"Match by name",switchEvent:"Change Event"}}),a=c(0),l=c(0),n=c(0),i=c(0),s=c(0),r=c("home"),u="https://img.yzcdn.cn/vant/user-active.png",d="https://img.yzcdn.cn/vant/user-inactive.png",f=e=>{w(`${t("tab")} ${e+1}`)};return(e,o)=>{const c=v("demo-block");return V(),h(j,null,[m(c,{title:_(t)("basicUsage")},{default:g((()=>[m(_(P),{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e)},{default:g((()=>[m(_(O),{icon:"home-o"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{icon:"search"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{icon:"friends-o"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{icon:"setting-o"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(c,{title:_(t)("matchByName")},{default:g((()=>[m(_(P),{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=e=>r.value=e)},{default:g((()=>[m(_(O),{name:"home",icon:"home-o"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{name:"search",icon:"search"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{name:"friends",icon:"friends-o"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{name:"setting",icon:"setting-o"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(c,{title:_(t)("badge")},{default:g((()=>[m(_(P),{modelValue:l.value,"onUpdate:modelValue":o[2]||(o[2]=e=>l.value=e)},{default:g((()=>[m(_(O),{icon:"home-o"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{icon:"search",dot:""},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{icon:"friends-o",badge:"5"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{icon:"setting-o",badge:"20"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(c,{title:_(t)("customIcon")},{default:g((()=>[m(_(P),{modelValue:n.value,"onUpdate:modelValue":o[3]||(o[3]=e=>n.value=e)},{default:g((()=>[m(_(O),{badge:"3"},{icon:g((e=>[y("img",{src:e.active?u:d},null,8,D)])),default:g((()=>[y("span",null,C(_(t)("custom")),1)])),_:1}),m(_(O),{icon:"search"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{icon:"setting-o"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(c,{title:_(t)("customColor")},{default:g((()=>[m(_(P),{modelValue:i.value,"onUpdate:modelValue":o[4]||(o[4]=e=>i.value=e),"active-color":"#ee0a24","inactive-color":"#000"},{default:g((()=>[m(_(O),{icon:"home-o"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{icon:"search"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{icon:"friends-o"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1}),m(_(O),{icon:"setting-o"},{default:g((()=>[x(C(_(t)("tab")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),m(c,{title:_(t)("switchEvent")},{default:g((()=>[m(_(P),{modelValue:s.value,"onUpdate:modelValue":o[5]||(o[5]=e=>s.value=e),onChange:f},{default:g((()=>[m(_(O),{icon:"home-o"},{default:g((()=>[x(C(`${_(t)("tab")} 1`),1)])),_:1}),m(_(O),{icon:"search"},{default:g((()=>[x(C(`${_(t)("tab")} 2`),1)])),_:1}),m(_(O),{icon:"friends-o"},{default:g((()=>[x(C(`${_(t)("tab")} 3`),1)])),_:1}),m(_(O),{icon:"setting-o"},{default:g((()=>[x(C(`${_(t)("tab")} 4`),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"])],64)}}});export{G as default};
