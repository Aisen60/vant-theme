import{a as e}from"./use-translate.bf1abf23.js";import{c as t,w as a}from"./with-install.af140ae3.js";import{e as l}from"./constant.4d85ecb9.js";import{B as s,E as o,z as i,f as n,G as u,r,a as m,w as p,D as x,F as d,o as c,i as v,t as f}from"./vendor.09b5b9a9.js";import{I as g}from"./index.5afcfd01.js";import"./unit.36efb2dd.js";const[V,h,b]=t("pagination");function T(e,t,a){return{number:e,text:t,active:a}}const S=a(s({name:V,props:{prevText:String,nextText:String,forceEllipses:Boolean,mode:{type:String,default:"multi"},modelValue:{type:Number,default:0},pageCount:{type:[Number,String],default:0},totalItems:{type:[Number,String],default:0},itemsPerPage:{type:[Number,String],default:10},showPageSize:{type:[Number,String],default:5}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const s=o((()=>{const{pageCount:t,totalItems:a,itemsPerPage:l}=e,s=+t||Math.ceil(+a/+l);return Math.max(1,s)})),u=o((()=>{const t=[],a=s.value,l=+e.showPageSize,{modelValue:o,forceEllipses:i}=e;if("multi"!==e.mode)return t;let n=1,u=a;const r=l<a;r&&(n=Math.max(o-Math.floor(l/2),1),u=n+l-1,u>a&&(u=a,n=u-l+1));for(let e=n;e<=u;e++){const a=T(e,e,e===o);t.push(a)}if(r&&l>0&&i){if(n>1){const e=T(n-1,"...");t.unshift(e)}if(u<a){const e=T(u+1,"...");t.push(e)}}return t})),r=(a,l)=>{a=Math.min(s.value,Math.max(1,a)),e.modelValue!==a&&(t("update:modelValue",a),l&&t("change",a))};i((()=>e.modelValue),(e=>{r(e)}),{immediate:!0});const m=()=>{if("multi"!==e.mode)return n("li",{class:h("page-desc")},[a.pageDesc?a.pageDesc():`${e.modelValue}/${s.value}`])};return()=>{const t=e.modelValue,o="multi"!==e.mode,i=e=>()=>r(e,!0);return n("ul",{class:h({simple:o})},[n("li",{class:[h("item",{disabled:1===t}),h("prev"),l],onClick:i(t-1)},[a["prev-text"]?a["prev-text"]():e.prevText||b("prev")]),u.value.map((e=>n("li",{class:[h("item",{active:e.active}),h("page"),l],onClick:i(e.number)},[a.page?a.page(e):e.text]))),m(),n("li",{class:[h("item",{disabled:t===s.value}),h("next"),l],onClick:i(t+1)},[a["next-text"]?a["next-text"]():e.nextText||b("next")])])}}}));var w=s({setup(t){const a=e({"zh-CN":{title2:"简单模式",title3:"显示省略号",title4:"自定义按钮",prevText:"上一页",nextText:"下一页"},"en-US":{title2:"Simple Mode",title3:"Show ellipses",title4:"Custom Button",prevText:"Prev",nextText:"Next"}}),l=u(1),s=u(1),o=u(1),i=u(1);return(e,t)=>{const u=r("demo-block");return c(),m(d,null,[n(u,{title:x(a)("basicUsage")},{default:p((()=>[n(x(S),{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),"total-items":24,"items-per-page":5,"prev-text":x(a)("prevText"),"next-text":x(a)("nextText")},null,8,["modelValue","prev-text","next-text"])])),_:1},8,["title"]),n(u,{title:x(a)("title2")},{default:p((()=>[n(x(S),{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),"page-count":12,"prev-text":x(a)("prevText"),"next-text":x(a)("nextText"),mode:"simple",size:"small"},null,8,["modelValue","prev-text","next-text"])])),_:1},8,["title"]),n(u,{title:x(a)("title3")},{default:p((()=>[n(x(S),{modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value=e),"force-ellipses":"","total-items":125,"show-page-size":3,"prev-text":x(a)("prevText"),"next-text":x(a)("nextText")},null,8,["modelValue","prev-text","next-text"])])),_:1},8,["title"]),n(u,{title:x(a)("title4")},{default:p((()=>[n(x(S),{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),"total-items":125,"show-page-size":5},{"prev-text":p((()=>[n(x(g),{name:"arrow-left"})])),"next-text":p((()=>[n(x(g),{name:"arrow"})])),page:p((({text:e})=>[v(f(e),1)])),_:1},8,["modelValue"])])),_:1},8,["title"])],64)}}});export{w as default};
