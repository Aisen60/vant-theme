import{e,l as t,a}from"./use-translate.bf1abf23.js";import{c as l,w as s}from"./with-install.af140ae3.js";import{C as o}from"./index.8591e547.js";import{F as n}from"./index.351cee30.js";import{F as i}from"./index.ce9148c1.js";import{B as r}from"./index.700b8aa4.js";import{D as d}from"./function-call.709dfb4c.js";import{S as c}from"./index.2749fd87.js";import{B as m,H as u,z as f,f as p,G as b,r as j,c as x,w as g,D as h,o as v}from"./vendor.09b5b9a9.js";import{T as D}from"./function-call.2f25783d.js";import"./use-route.bc60204d.js";import"./index.5afcfd01.js";import"./unit.36efb2dd.js";import"./constant.4d85ecb9.js";import"./use-expose.028ef04d.js";import"./useChildren.692bc2bf.js";import"./event.7d40caae.js";import"./number.b01aa591.js";import"./index.e6355079.js";import"./useParent.60a302fe.js";import"./index.4893bdc2.js";import"./mount-component.14353bf5.js";import"./interceptor.9b43abfe.js";import"./index.02c1c9ae.js";import"./use-touch.871001cd.js";import"./index.2baefb73.js";import"./utils.fd06bcd3.js";import"./index.e4b17f1e.js";import"./use-lazy-render.bae5ade9.js";import"./on-popup-reopen.d2d6f1c6.js";import"./index.bb1b1d01.js";import"./index.c08f3caa.js";const[S,V,w]=l("contact-edit"),y={tel:"",name:""};const B=s(m({name:S,props:{isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>e({},y)},telValidator:{type:Function,default:t}},emits:["save","delete","change-default"],setup(t,{emit:a}){const l=u(e({},y,t.contactInfo)),s=()=>{t.isSaving||a("save",l)},m=()=>d.confirm({title:w("confirmDelete")}).then((()=>a("delete",l))),b=()=>p(c,{modelValue:l.isDefault,"onUpdate:modelValue":e=>l.isDefault=e,size:24,onChange:e=>a("change-default",e)},null),j=()=>{if(t.showSetDefault)return p(o,{title:t.setDefaultLabel,class:V("switch-cell"),border:!1},{"right-icon":b})};return f((()=>t.contactInfo),(t=>e(l,y,t))),()=>p(n,{class:V(),onSubmit:s},{default:()=>[p("div",{class:V("fields")},[p(i,{modelValue:l.name,"onUpdate:modelValue":e=>l.name=e,clearable:!0,label:w("name"),rules:[{required:!0,message:w("nameEmpty")}],maxlength:"30",placeholder:w("name")},null),p(i,{modelValue:l.tel,"onUpdate:modelValue":e=>l.tel=e,clearable:!0,type:"tel",label:w("tel"),rules:[{validator:t.telValidator,message:w("telInvalid")}],placeholder:w("tel")},null)]),j(),p("div",{class:V("buttons")},[p(r,{block:!0,round:!0,type:"danger",text:w("save"),class:V("button"),loading:t.isSaving,nativeType:"submit"},null),t.isEdit&&p(r,{block:!0,round:!0,text:w("delete"),class:V("button"),loading:t.isDeleting,onClick:m},null)])]})}}));var C=m({setup(e){const t=a({"zh-CN":{defaultLabel:"设为默认联系人"},"en-US":{defaultLabel:"Set as the default contact"}}),l=b({}),s=()=>D(t("save")),o=()=>D(t("delete"));return(e,a)=>{const n=j("demo-block");return v(),x(n,{title:h(t)("basicUsage")},{default:g((()=>[p(h(B),{"is-edit":"","show-set-default":"","contact-info":l.value,"set-default-label":h(t)("defaultLabel"),onSave:s,onDelete:o},null,8,["contact-info","set-default-label"])])),_:1},8,["title"])}}});export{C as default};
