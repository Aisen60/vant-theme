import{t as e,a as t}from"./use-translate.bf1abf23.js";import{c as o,w as s}from"./with-install.af140ae3.js";import{B as a,a as u}from"./constant.4d85ecb9.js";import{a as l}from"./unit.36efb2dd.js";import{B as n,f as r,G as i,z as f,r as v,a as c,w as d,D as m,F as g,o as h}from"./vendor.09b5b9a9.js";import{V as p}from"./index.3205126e.js";import"./event.7d40caae.js";import"./use-touch.871001cd.js";import"./index.4893bdc2.js";import"./index.7d098fe9.js";import"./utils.fd06bcd3.js";import"./index.2baefb73.js";const[b,w]=o("password-input");const I=s(n({name:b,props:{info:String,mask:e,gutter:[Number,String],focused:Boolean,errorInfo:String,value:{type:String,default:""},length:{type:[Number,String],default:6}},emits:["focus"],setup(e,{emit:t}){const o=e=>{e.stopPropagation(),t("focus",e)},s=()=>{const t=[],{mask:o,value:s,length:a,gutter:n,focused:i}=e;for(let e=0;e<a;e++){const a=s[e],f=0!==e&&!n,v=i&&e===s.length;let c;0!==e&&n&&(c={marginLeft:l(n)}),t.push(r("li",{class:[{[u]:f},w("item",{focus:v})],style:c},[o?r("i",{style:{visibility:a?"visible":"hidden"}},null):a,v&&r("div",{class:w("cursor")},null)]))}return t};return()=>{const t=e.errorInfo||e.info;return r("div",{class:w()},[r("ul",{class:[w("security"),{[a]:!e.gutter}],onTouchstart:o},[s()]),t&&r("div",{class:w(e.errorInfo?"error-info":"info")},[t])])}}}));var k=n({setup(e){const o=t({"zh-CN":{info:"密码为 6 位数字",showInfo:"提示信息",addGutter:"格子间距",errorInfo:"密码错误",removeMask:"明文展示",customLength:"自定义长度"},"en-US":{info:"Some tips",showInfo:"Show Info",addGutter:"Add Gutter",errorInfo:"Password Mistake",removeMask:"Remove Mask",customLength:"Custom Length"}}),s=i({showInfo:"123",addGutter:"123",basicUsage:"123",removeMask:"123",customLength:"123"}),a=i("basicUsage"),u=i(""),l=i(),n=i(),b=i(),w=i(),k=i(),j={showInfo:l,addGutter:n,basicUsage:b,removeMask:w,customLength:k},L=e=>{if(!a.value)return;const t="customLength"===a.value?4:6,l=(s.value[a.value]+e).slice(0,t);s.value[a.value]=l,"showInfo"===a.value&&6===l.length&&"123456"!==l&&(u.value=o("errorInfo"))},G=()=>{a.value&&(s.value[a.value]=s.value[a.value].slice(0,s.value[a.value].length-1),"showInfo"===a.value&&(u.value=""))};return f(a,(e=>{if(e){const t=j[e].value;if(t){const{top:e}=t.$el.getBoundingClientRect();window.scrollTo(0,window.pageYOffset+e)}}})),(e,t)=>{const i=v("demo-block");return h(),c(g,null,[r(i,{ref:(e,t)=>{t.basicUsage=e,b.value=e},title:m(o)("basicUsage")},{default:d((()=>[r(m(I),{value:s.value.basicUsage,focused:"basicUsage"===a.value,onFocus:t[0]||(t[0]=e=>a.value="basicUsage")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.customLength=e,k.value=e},title:m(o)("customLength")},{default:d((()=>[r(m(I),{value:s.value.customLength,length:4,focused:"customLength"===a.value,onFocus:t[1]||(t[1]=e=>a.value="customLength")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.addGutter=e,n.value=e},title:m(o)("addGutter")},{default:d((()=>[r(m(I),{value:s.value.addGutter,gutter:10,focused:"addGutter"===a.value,onFocus:t[2]||(t[2]=e=>a.value="addGutter")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.removeMask=e,w.value=e},title:m(o)("removeMask")},{default:d((()=>[r(m(I),{mask:!1,value:s.value.removeMask,focused:"removeMask"===a.value,onFocus:t[3]||(t[3]=e=>a.value="removeMask")},null,8,["value","focused"])])),_:1},8,["title"]),r(i,{ref:(e,t)=>{t.showInfo=e,l.value=e},title:m(o)("showInfo")},{default:d((()=>[r(m(I),{info:m(o)("info"),value:s.value.showInfo,"error-info":u.value,focused:"showInfo"===a.value,onFocus:t[4]||(t[4]=e=>a.value="showInfo")},null,8,["info","value","error-info","focused"])])),_:1},8,["title"]),r(m(p),{show:!!a.value,onBlur:t[5]||(t[5]=e=>a.value=null),onInput:L,onDelete:G},null,8,["show"])],64)}}});export{k as default};
