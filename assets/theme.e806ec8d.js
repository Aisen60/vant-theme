import"./modulepreload-polyfill.b7f2da20.js";import{d as C,F as A,a as P,b as R,o as L,c as D,u as O,R as S,e as N,f as M,g as j,h as k}from"./vendor.ee815208.js";function H(e){let n;try{n=JSON.parse(e)}catch{n=n||null}return n}function $(e){let n;try{n=JSON.stringify(e)}catch{n=n||null}return n}function F(){function e(t){const s=window.localStorage.getItem(t);return s&&H(s)}function n(t,s){const i=$(s);window.localStorage.setItem(t,i)}return{getItem:e,setItem:n}}const g="VANT_THEME_LANGUAGE",h="VANT_THEME_VERSION",p="base",c="VANT_THEME_USER_CONFIG",m="VANT_THEME_PREVIEW_CONFIG",v="VANT_THEME_PREVIEW_ID",re="replacePath",K="VANT_THEME_CSS_LINK_ID",U={v2:"https://cdn.jsdelivr.net/npm/vant@2/lib/index.css",v3:"https://cdn.jsdelivr.net/npm/vant/lib/index.css",v4:"https://cdn.jsdelivr.net/npm/vant@4.0.0-alpha.0/lib/index.css"},ae=[{name:"vant \u5B98\u7F51",url:"https://vant-contrib.gitee.io/vant/v3/#/zh-CN/"},{name:"GitHub",url:"https://github.com/Aisen60/vant-theme"}],ue={"--van-red":"#ee0a24","--van-blue":"#1989fa","--van-orange":"#ff976a","--van-orange-dark":"#ed6a0c","--van-orange-light":"#fffbe8","--van-green":"#07c160"},l=document.body;var I,T,b;(b=(T=(I=document.querySelector("iframe"))==null?void 0:I.contentWindow)==null?void 0:T.document)==null||b.body;function ce(e,n=l){const t=[];return e.forEach(s=>{const i=s,o=x(s,n),u={varName:i,varValue:o};o.trim().startsWith("#")||o.trim().startsWith("rgba")?u.component="n-color-picker":(u.component="n-input",u.suffix="px"),t.push(u)}),t}function x(e,n=l){return window.getComputedStyle(n).getPropertyValue(e)}function me(e,n=l){for(const t in e){const s=e[t];G(t,s,n)}}function G(e,n,t=l){t.style.setProperty(e,n)}function q(e=l){e.setAttribute("style","")}function E(){return C().valueOf()}function le(e){return C(e).format("YYYY-MM-DD HH:mm")}function z(e,n="--van-",t=""){return e.replace(n,t).replace(/-(\w)/g,function(i,o){return o.toUpperCase()})}function y(e,n){const t=new Blob([e],{type:"text/plain;charset=utf-8"});A.exports.saveAs(t,n)}const W="modulepreload",V={},B="/vant-theme/",a=function(n,t){return!t||t.length===0?n():Promise.all(t.map(s=>{if(s=`${B}${s}`,s in V)return;V[s]=!0;const i=s.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${o}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":W,i||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),i)return new Promise((_,d)=>{u.addEventListener("load",_),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>n())};function Y(e){switch(e){case"./menus/en-us/base.json":return a(()=>import("./base.e16bd09b.js"),[]);case"./menus/en-us/v2.json":return a(()=>import("./v2.a67e0b6c.js"),[]);case"./menus/en-us/v3.json":return a(()=>import("./v3.8c826736.js"),[]);case"./menus/en-us/v4.json":return a(()=>import("./v4.3819d34c.js"),[]);case"./menus/zh-cn/base.json":return a(()=>import("./base.6fde5c0f.js"),[]);case"./menus/zh-cn/v2.json":return a(()=>import("./v2.a630632e.js"),[]);case"./menus/zh-cn/v3.json":return a(()=>import("./v3.b2611357.js"),[]);case"./menus/zh-cn/v4.json":return a(()=>import("./v4.aa81a726.js"),[]);default:return new Promise(function(n,t){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}function J(e){switch(e){case"./menus/en-us/base.json":return a(()=>import("./base.e16bd09b.js"),[]);case"./menus/zh-cn/base.json":return a(()=>import("./base.6fde5c0f.js"),[]);default:return new Promise(function(n,t){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const Q=async(e,n="zh-cn")=>{const t=n.toLocaleLowerCase(),{default:s}=await J(`./menus/${t}/base.json`),{default:i}=await Y(`./menus/${t}/${e}.json`);return[s,...i]};function X(e){switch(e){case"./styles/base-v2.json":return a(()=>import("./base-v2.70032312.js"),[]);case"./styles/base-v3.json":return a(()=>import("./base-v3.bace6678.js"),[]);case"./styles/base-v4.json":return a(()=>import("./base-v4.ee0278e8.js"),[]);case"./styles/v2.json":return a(()=>import("./v2.8e20dc76.js"),[]);case"./styles/v3.json":return a(()=>import("./v3.4e24f60e.js"),[]);case"./styles/v4.json":return a(()=>import("./v4.1cbad6ce.js"),[]);default:return new Promise(function(n,t){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}function Z(e){switch(e){case"./styles/base-v2.json":return a(()=>import("./base-v2.70032312.js"),[]);case"./styles/base-v3.json":return a(()=>import("./base-v3.bace6678.js"),[]);case"./styles/base-v4.json":return a(()=>import("./base-v4.ee0278e8.js"),[]);default:return new Promise(function(n,t){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const ee=async e=>{const{default:n}=await Z(`./styles/base-${e}.json`),{default:t}=await X(`./styles/${e}.json`);return[n,...t]},r=F();function w(e){const n=new Date().getTime(),{id:t=n,name:s,update:i=n,theme:o={}}=e;return{id:t,name:s,update:i,theme:o}}const te=P("main",{state:()=>({language:r.getItem(g)||"zh-cn",languageList:[{key:"zh-cn",label:"\u4E2D",disabled:!1},{key:"en-us",label:"EN",disabled:!0}],version:r.getItem(h)||"v3",versionList:[{key:"v2",label:"vant-theme 2",remarks:"\uFF08\u9002\u7528\u4E8E vue 2\u3001vant 2\uFF09(\u6682\u4E0D\u652F\u6301)",disabled:!0},{key:"v3",label:"vant-theme 3",remarks:"\uFF08\u9002\u7528\u4E8E vue 3\u3001vant 3\uFF09",disabled:!1},{key:"v4",label:"vant-theme 4",remarks:"\uFF08\u9002\u7528\u4E8E vue 3\u3001vant 4\uFF09",disabled:!1}],menuActive:"base",userConfig:r.getItem(c)||{v3:[],v4:[]},previewConfig:r.getItem(m)||{},previewId:r.getItem(v)||""}),getters:{getVersion(e){const n=e.version,t=e.versionList;let s;for(let i=0;i<t.length;i++){const o=t[i];o.key!=="v2"&&(o.disabled=!1),o.key===n&&(o.disabled=!0,s=o)}return s},getThemeList(e){const n=e.version;return e.userConfig[n]}},actions:{async init(){const e=this.getLanguageKey(),n=this.getVersionKey(),t=this.menuActive,s=this.userConfig,i=this.previewConfig,o=this.previewId;r.setItem(g,e),r.setItem(h,n),r.setItem(p,t),r.setItem(c,s),r.setItem(m,i),r.setItem(v,o)},getLanguageKey(){return this.language},languageChange(e){this.language=e,r.setItem(g,e)},getVersionKey(){return this.version},versionChange(e){this.version=e,r.setItem(h,e)},menuChange(e){this.menuActive!==e&&(this.menuActive=e,r.setItem(p,e))},async addTheme(e){var s;const n=this.getVersionKey(),t=await w({name:e});return(s=this.userConfig[n])==null||s.push(t),r.setItem(c,this.userConfig),t},async copyTheme(e){var s;const n=this.getVersionKey(),t=await w(e);return(s=this.userConfig[n])==null||s.push(t),r.setItem(c,this.userConfig),t},async updateTheme(e){await this.updateThemeHandler(e)},async updateThemeHandler(e){var _;const n=this.getVersionKey(),{id:t,name:s,theme:i,update:o}=e,u=(_=this.userConfig[n])==null?void 0:_.filter(d=>d.id===t)[0];u&&(u.name=s,u.theme=i,u.update=o),r.setItem(c,this.userConfig)},async deleteTheme(e){const n=this.getVersionKey(),t=this.userConfig[n],s=t==null?void 0:t.findIndex(i=>i.id===e);s&&s!==-1&&(t==null||t.splice(s,1),this.previewConfig={},this.previewId=null,r.setItem(c,this.userConfig),r.setItem(m,this.previewConfig),r.setItem(v,this.previewId)),q()},async useTheme(e){const{id:n,theme:t}=e;this.previewId=n,this.previewConfig=t,r.setItem(v,n),r.setItem(m,this.previewConfig)},async getComponentConsoleStyle(e){return(await this.getVersionStyles()).filter(s=>s.id===e)[0]},async setComponentConsoleStyle(e){const{varName:n,varValue:t}=e;this.previewConfig[n]=t,r.setItem(m,this.previewConfig);const s=await this.getCurrentThemeInfo(),i={id:s==null?void 0:s.id,name:s==null?void 0:s.name,theme:Object.assign({},s==null?void 0:s.theme,this.previewConfig),update:E()};await this.updateThemeHandler(i)},downloadTheme(e){const{name:n,theme:t}=e;let s=":root {";const i={};for(const o in t)s+=`
 ${o}: ${t[o]};`,i[z(o)]=t[o];s+=`
}`,y(s,`${n} - ${new Date().getTime()}.css`),y(JSON.stringify(i),`${n} - ${new Date().getTime()}.json`)},async resetTheme(){const e=await this.getCurrentThemeInfo();this.previewConfig={};const n={id:e==null?void 0:e.id,name:e==null?void 0:e.name,theme:Object.assign({},this.previewConfig),update:E()};r.setItem(m,this.previewConfig),await this.updateThemeHandler(n)},async getCurrentThemeInfo(){var t;const e=this.getVersionKey();return(t=this.userConfig[e])==null?void 0:t.filter(s=>s.id===this.previewId)[0]},async getVersionMenus(){const e=this.getLanguageKey(),n=this.getVersionKey();return await Q(n,e)},async getVersionStyles(){const e=this.getVersionKey();return await ee(e)},getMobilePath(){return`/vant-theme/src/mobile/${this.getVersionKey()}.html`},insertVantCss(){var t;const e=this.getVersionKey(),n=U[e];(t=document.querySelector(`#${K}`))==null||t.setAttribute("href",n)}}}),ne=R({setup(e){const n=te();return(async()=>{await n.init()})(),(s,i)=>(L(),D(O(S)))}}),se=N({history:M("/vant-theme/"),routes:[{path:"/",redirect:"/theme",component:()=>a(()=>import("./index.a0879b78.js"),["assets/index.a0879b78.js","assets/vendor.ee815208.js","assets/context.f4e1abd6.js","assets/Modal.e5548d4a.js","assets/Layout.6ae17e25.js","assets/modulepreload-polyfill.b7f2da20.js"]),children:[{path:"theme",name:"ThemeRouter",component:()=>a(()=>import("./theme.d07da860.js"),["assets/theme.d07da860.js","assets/vendor.ee815208.js","assets/context.f4e1abd6.js","assets/use-message.e4427951.js","assets/Modal.e5548d4a.js","assets/modulepreload-polyfill.b7f2da20.js"])},{path:"preview",name:"PreviewRouter",component:()=>a(()=>import("./preview.23a8e482.js"),["assets/preview.23a8e482.js","assets/vendor.ee815208.js","assets/context.f4e1abd6.js","assets/use-message.e4427951.js","assets/Layout.6ae17e25.js","assets/modulepreload-polyfill.b7f2da20.js"])}]}]});const f=j(ne);f.use(k());f.use(se);f.mount("#app");export{ue as D,ae as O,re as V,K as a,U as b,q as c,l as d,G as e,ce as g,me as s,le as t,te as u};
